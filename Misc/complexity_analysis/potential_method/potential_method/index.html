
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://farmerboy95.github.io/CPBlogs/Misc/complexity_analysis/potential_method/potential_method/">
      
      
        <link rel="prev" href="../../asymptotic_notations/asymptotic_notations/">
      
      
        <link rel="next" href="../../../data_structures/splay_tree/splay_tree/">
      
      <link rel="icon" href="../../../../img/logo.jpg">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.6">
    
    
      
        <title>Phương pháp Tiềm năng - farmerboy's CP Blogs</title>
      
    
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    <link rel="stylesheet" href="../../../../css/lightgallery.min.css">

    
    
    <script src="../../../../js/lightgallery.min.js"></script>

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-W9EFM7GCX7"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-W9EFM7GCX7",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-W9EFM7GCX7",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#phuong-phap-tiem-nang" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="farmerboy&#39;s CP Blogs" class="md-header__button md-logo" aria-label="farmerboy's CP Blogs" data-md-component="logo">
      
  <img src="../../../../img/logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            farmerboy's CP Blogs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Phương pháp Tiềm năng
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/farmerboy95/CPBlogs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    farmerboy95/CPBlogs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        Trang chủ
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../Codeforces/graph/dfs_tree/dfs_tree/" class="md-tabs__link">
        Codeforces
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../cp-algorithms/algebra/binary_exponentiation/binary_exponentiation/" class="md-tabs__link">
        cp-algorithms
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../Codechef/data_structures/disjoint_sparse_table/disjoint_sparse_table/" class="md-tabs__link">
        Codechef
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../LeetCode/reservoir_sampling/reservoir_sampling/" class="md-tabs__link">
        LeetCode
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../asymptotic_notations/asymptotic_notations/" class="md-tabs__link md-tabs__link--active">
        Nguồn khác
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="farmerboy&#39;s CP Blogs" class="md-nav__button md-logo" aria-label="farmerboy's CP Blogs" data-md-component="logo">
      
  <img src="../../../../img/logo.jpg" alt="logo">

    </a>
    farmerboy's CP Blogs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/farmerboy95/CPBlogs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    farmerboy95/CPBlogs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Trang chủ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Trang chủ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Lời chào
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../navigation/" class="md-nav__link">
        Các tài liệu
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Codeforces
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Codeforces
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          Đồ thị
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Đồ thị
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Codeforces/graph/dfs_tree/dfs_tree/" class="md-nav__link">
        Cây DFS và ứng dụng
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Xử lý bit
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Xử lý bit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Codeforces/bit_manipulation/xor_basis/xor_basis/" class="md-nav__link">
        Kĩ thuật Vector cơ sở cho các bài toán XOR
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          Toán học
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Toán học
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Codeforces/math/floors_ceilings_inequalities/floors_ceilings_inequalities/" class="md-nav__link">
        Floor, ceiling và bất đẳng thức cho người mới học
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Codeforces/math/martingales/martingales.md" class="md-nav__link">
        Xác suất 101, bí ẩn đằng sau Martingales và các bài tập ứng dụng - Sắp ra mắt
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          cp-algorithms
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          cp-algorithms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
      
      
      
        <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
          Đại số
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Đại số
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cp-algorithms/algebra/binary_exponentiation/binary_exponentiation/" class="md-nav__link">
        Luỹ thừa nhị phân
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          Cấu trúc dữ liệu
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Cấu trúc dữ liệu
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2_1" id="__nav_3_2_1_label" tabindex="0">
          Cơ bản
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2_1">
          <span class="md-nav__icon md-icon"></span>
          Cơ bản
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cp-algorithms/data_structures/fundamentals/min_stack_min_queue/min_stack_min_queue/" class="md-nav__link">
        Minimum Stack / Minimum Queue
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cp-algorithms/data_structures/fundamentals/sparse_table/sparse_table/" class="md-nav__link">
        Sparse Table
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
          Cây
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2_2">
          <span class="md-nav__icon md-icon"></span>
          Cây
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cp-algorithms/data_structures/trees/sqrt_tree/sqrt_tree/" class="md-nav__link">
        Sqrt Tree
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Codechef
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Codechef
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
          Cấu trúc dữ liệu
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Cấu trúc dữ liệu
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Codechef/data_structures/disjoint_sparse_table/disjoint_sparse_table/" class="md-nav__link">
        Disjoint Sparse Table
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          LeetCode
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          LeetCode
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/reservoir_sampling/reservoir_sampling/" class="md-nav__link">
        Lấy mẫu hồ chứa (Reservoir Sampling)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/search_in_rotated_sorted_array/search_in_rotated_sorted_array/" class="md-nav__link">
        Tìm kiếm trên mảng đã sắp xếp nhưng đã xoay
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/basic_calculator/basic_calculator/" class="md-nav__link">
        Tính toán biểu thức từ xâu
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Nguồn khác
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Nguồn khác
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
          Phân tích Độ phức tạp
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          Phân tích Độ phức tạp
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../asymptotic_notations/asymptotic_notations/" class="md-nav__link">
        Các ký hiệu tiệm cận
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Phương pháp Tiềm năng
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Phương pháp Tiềm năng
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nguon" class="md-nav__link">
    Nguồn
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loi-tua" class="md-nav__link">
    Lời tựa
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inh-nghia-thoi-gian-phan-bo-amortized-time" class="md-nav__link">
    Định nghĩa Thời gian phân bổ (Amortized time)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quan-he-giua-thoi-gian-phan-bo-va-thoi-gian-thuc" class="md-nav__link">
    Quan hệ giữa thời gian phân bổ và thời gian thực
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phan-tich-phan-bo-trong-truong-hop-xau-nhat" class="md-nav__link">
    Phân tích Phân bổ trong trường hợp xấu nhất
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cac-vi-du" class="md-nav__link">
    Các ví dụ
  </a>
  
    <nav class="md-nav" aria-label="Các ví dụ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mang-ong" class="md-nav__link">
    Mảng động
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-pop-stack" class="md-nav__link">
    Multi-Pop Stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bo-em-nhi-phan" class="md-nav__link">
    Bộ đếm nhị phân
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ung-dung" class="md-nav__link">
    Ứng dụng
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
      
      
      
        <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
          Cấu trúc dữ liệu
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Cấu trúc dữ liệu
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_structures/splay_tree/splay_tree/" class="md-nav__link">
        Splay Tree: Một mình anh chấp hết
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
      
      
      
        <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
          Xác suất
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Xác suất
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../probability/probability/probability/" class="md-nav__link">
        Xác suất
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../probability/linearity_of_expectation/linearity_of_expectation/" class="md-nav__link">
        Kỳ vọng tuyến tính
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nguon" class="md-nav__link">
    Nguồn
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loi-tua" class="md-nav__link">
    Lời tựa
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inh-nghia-thoi-gian-phan-bo-amortized-time" class="md-nav__link">
    Định nghĩa Thời gian phân bổ (Amortized time)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quan-he-giua-thoi-gian-phan-bo-va-thoi-gian-thuc" class="md-nav__link">
    Quan hệ giữa thời gian phân bổ và thời gian thực
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phan-tich-phan-bo-trong-truong-hop-xau-nhat" class="md-nav__link">
    Phân tích Phân bổ trong trường hợp xấu nhất
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cac-vi-du" class="md-nav__link">
    Các ví dụ
  </a>
  
    <nav class="md-nav" aria-label="Các ví dụ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mang-ong" class="md-nav__link">
    Mảng động
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-pop-stack" class="md-nav__link">
    Multi-Pop Stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bo-em-nhi-phan" class="md-nav__link">
    Bộ đếm nhị phân
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ung-dung" class="md-nav__link">
    Ứng dụng
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
                  

  
  


<h1 id="phuong-phap-tiem-nang">Phương pháp Tiềm năng</h1>
<h2 id="nguon">Nguồn</h2>
<p><img src="/CPBlogs/img/wikipedia.png" width="16" height="16"/> <a href="https://en.wikipedia.org/wiki/Potential_method">Potential method - Wikipedia</a></p>
<h2 id="loi-tua">Lời tựa</h2>
<p>Trong lý thuyết tính toán độ phức tạp, Phương pháp Tiềm năng là một phương pháp dùng để phân tích độ phức tạp phân bổ (Amortized complexity) về mặt thời gian và bộ nhớ của một cấu trúc dữ liệu. Nó cũng là một thước đo hiệu suất thông qua một chuỗi các thao tác để loại bỏ chi phí của các thao tác không thường xuyên nhưng tốn kém.</p>
<h2 id="inh-nghia-thoi-gian-phan-bo-amortized-time">Định nghĩa Thời gian phân bổ (Amortized time)</h2>
<p>Trong phương pháp Tiềm năng, một hàm <span class="arithmatex">\(\Phi\)</span> được chọn để ánh xạ các trạng thái của cấu trúc dữ liệu với các số không âm. Nếu <span class="arithmatex">\(S\)</span> là một trạng thái của cấu trúc dữ liệu, <span class="arithmatex">\(\Phi(S)\)</span> tượng trưng cho lượng công việc được giữ (hay "được trả tiền") trong phân tích phân bổ nhưng chưa được thực thi. Vì vậy, <span class="arithmatex">\(\Phi(S)\)</span> có thể được hiểu là việc tính phần năng lượng tiềm năng lưu trong trạng thái đó. Giá trị tiềm năng trước khi khởi tạo cấu trúc dữ liệu là <span class="arithmatex">\(0\)</span>. Ngoài ra, <span class="arithmatex">\(\Phi(S)\)</span> có thể được hiểu là lượng hỗn loạn trong trạng thái <span class="arithmatex">\(S\)</span> hoặc là khoảng cách của trạng thái hiện tại đến trạng thái lý tưởng.</p>
<p>Gọi <span class="arithmatex">\(o\)</span> là bất cứ thao tác đơn lẻ nào trong một dãy các thao tác trên một cấu trúc dữ liệu nào đó, với <span class="arithmatex">\(S_{trước}\)</span> là trạng thái của cấu trúc dữ liệu trước thao tác <span class="arithmatex">\(o\)</span> này và <span class="arithmatex">\(S_{sau}\)</span> là trạng thái sau khi thao tác <span class="arithmatex">\(o\)</span> kết thúc. Một khi <span class="arithmatex">\(\Phi\)</span> được chọn, thời gian phân bổ của thao tác <span class="arithmatex">\(o\)</span> được định nghĩa là:</p>
<div class="arithmatex">\[T_{\text{phân bổ} }(o) = T_{thực}(o) + C \times (\Phi(S_{trước}) - \Phi(S_{sau}))\]</div>
<p>Trong đó <span class="arithmatex">\(C\)</span> là hằng số tỉ lệ không âm (tính theo đơn vị thời gian) phải cố định trong suốt quá trình phân tích. Nghĩa là, thời gian phân bổ được định nghĩa là thời gian thực tiêu tốn bởi thao tác cộng với <span class="arithmatex">\(C\)</span> lần chênh lệch tiềm năng tạo ra bởi thao tác đó.</p>
<p>Khi nghiên cứu độ phức tạp tính toán tiệm cận bằng cách sử dụng ký hiệu big O, các yếu tố hằng số không liên quan và do đó hằng số <span class="arithmatex">\(C\)</span> thường bị bỏ qua.</p>
<h2 id="quan-he-giua-thoi-gian-phan-bo-va-thoi-gian-thuc">Quan hệ giữa thời gian phân bổ và thời gian thực</h2>
<p>Mặc dù có vẻ hơi trừu tượng, tổng thời gian phân bổ của một chuỗi thao tác cung cấp cho chúng ta một cận trên tốt so với thời gian thực trên cùng một nhóm thao tác đó.</p>
<p>Với mọi chuỗi thao tác <span class="arithmatex">\(O = o_1, o_2, ..., o_n\)</span>, ta định nghĩa:</p>
<ul>
<li>Tổng thời gian phân bổ: <span class="arithmatex">\(T_{\text{phân bổ} }(O) = \sum_{i=1}^{n} T_{\text{phân bổ} }(o_i)\)</span></li>
<li>Tổng thời gian thực: <span class="arithmatex">\(T_{thực}(O) = \sum_{i=1}^{n} T_{thực}(o_i)\)</span></li>
</ul>
<p>Nên:</p>
<div class="arithmatex">\[T_{\text{phân bổ} }(O) = \sum_{i=1}^{n} (T_{thực}(o_i) + C \times (\Phi(S_i) - \Phi(S_{i-1}))) = T_{thực}(O) + C \times (\Phi(S_n) - \Phi(S_0))\]</div>
<p>Trong đó dãy các giá trị của hàm Tiềm năng tạo ra một chuỗi lồng nhau, trong đó tất cả các số hạng không phải đầu tiên và cuối cùng huỷ nhau theo cặp. Chuyển vế ta có:</p>
<div class="arithmatex">\[T_{thực}(O) = T_{\text{phân bổ} }(O) - C \times (\Phi(S_n) - \Phi(S_0))\]</div>
<p>Do <span class="arithmatex">\(\Phi(S_0) = 0\)</span> và <span class="arithmatex">\(\Phi(S_n) \geq 0\)</span>, <span class="arithmatex">\(T_{thực}(O) \leq T_{\text{phân bổ} }(O)\)</span>, nên thời gian phân bổ có thể được dùng để tính cận trên của thời gian thực trên một dãy các thao tác, ngay cả khi thời gian phân bổ của một thao tác nào đó có biên độ lớn so với thời gian thực.</p>
<h2 id="phan-tich-phan-bo-trong-truong-hop-xau-nhat">Phân tích Phân bổ trong trường hợp xấu nhất</h2>
<p>Thông thường, phân tích phân bổ được dùng kết hợp với trường hợp xấu nhất của đầu vào. Với trường hợp xấu nhất này, nếu <span class="arithmatex">\(X\)</span> là loại thao tác được sử dụng trong cấu trúc dữ liệu, và số nguyên <span class="arithmatex">\(n\)</span> là kích thước của cấu trúc dữ liệu được cho (ví dụ như nó chứa bao nhiêu biến chẳng hạn), thì thời gian phân bổ của các thao tác loại <span class="arithmatex">\(X\)</span> được định nghĩa là thời gian phân bổ lớn nhất trong tất cả các dãy thao tác có thể có trên cấu trúc dữ liệu kích thước <span class="arithmatex">\(n\)</span>, chỉ tính các thao tác <span class="arithmatex">\(o_i\)</span> loại <span class="arithmatex">\(X\)</span> trong nhóm.</p>
<p>Với định nghĩa này, thời gian để thực hiện dãy thao tác có thể được ước lượng bằng cách nhân thời gian phân bổ của mỗi loại thao tác trong dãy với số thao tác của loại thao tác đó.</p>
<h2 id="cac-vi-du">Các ví dụ</h2>
<h3 id="mang-ong">Mảng động</h3>
<p>Mảng động là một cấu trúc dữ liệu dùng để duy trì một dãy các phần tử, cho phép truy cập nhờ vào vị trí trong mảng và khả năng tăng giới hạn mảng lên 1. Trong Java nó là ArrayList còn trong Python nó là list.</p>
<p>Mảng động có thể được cài như một cấu trúc dữ liệu gồm một mảng <span class="arithmatex">\(A\)</span> các phần tử, có độ dài <span class="arithmatex">\(N\)</span> nào đó, với một số <span class="arithmatex">\(n \leq N\)</span> là các vị trí trong mảng chúng ta đã dùng. Với cấu trúc dữ liệu như thế này, việc truy cập vào mảng động có thể được cài bằng cách truy cập vào cùng ô nhớ trong mảng <span class="arithmatex">\(A\)</span> đó, và khi <span class="arithmatex">\(n &lt; N\)</span>, thao tác tăng size của mảng động có thể được cài bằng cách tăng n lên. Tuy nhiên, khi <span class="arithmatex">\(n=N\)</span>, ta cần resize lại <span class="arithmatex">\(A\)</span>, một cách phổ biến là tăng gấp đôi size của nó, thay <span class="arithmatex">\(A\)</span> bằng một mảng có độ dài <span class="arithmatex">\(2n\)</span>.</p>
<p>Cấu trúc dữ liệu này có thể được phân tích nhờ hàm Tiềm năng sau:</p>
<div class="arithmatex">\[\Phi = 2n - N\]</div>
<p>Vì việc resize này làm cho <span class="arithmatex">\(A\)</span> luôn có số phần tử lớn hơn hoặc bằng nửa kích thước, nên hàm tiềm năng luôn không âm.</p>
<p>Thao tác tăng kích thước mảng không phải lúc nào cũng dẫn đến việc resize, <span class="arithmatex">\(\Phi\)</span> tăng lên 2, một hằng số. Vì vậy, thời gian thực của thao tác và thời gian tăng lên tiềm năng kết hợp lại để tạo ra thời gian phân bổ của thao tác loại này.</p>
<p>Tuy nhiên, nếu việc tăng kích thước dẫn đến resize mảng, <span class="arithmatex">\(\Phi\)</span> giảm về <span class="arithmatex">\(0\)</span> sau khi resize. Tạo mảng mới <span class="arithmatex">\(A\)</span> và sao chép tất cả các giá trị cũ của vào mảng mới này tôn <span class="arithmatex">\(O(n)\)</span> thời gian thực, nhưng (với hằng số tỉ lệ <span class="arithmatex">\(C\)</span> tốt) cái này bị tiêu huỷ bới việc giảm hàm tiềm năng, trả về một tổng thời gian phân bổ là hằng số cho thao tác này.</p>
<p>Những thao tác khác của cấu trúc dữ liệu (đọc ghi mảng mà không thay đổi kích thước) không tạo ra thay đổi cho hàm tiềm năng và có cùng thời gian phân bổ hằng số như thời gian thực.</p>
<p>Vì vậy, với việc resize như thế này cộng với hàm tiềm năng, phương pháp tiềm năng cho thấy rằng tất cả các thao tác trên mảng động tốn thời gian phân bổ hằng số. Kết hợp điều này với bất đẳng thức giữa thời gian phân bổ và thời gian thực trên dãy các thao tác, điều này cho thấy rằng bất kỳ dãy <span class="arithmatex">\(n\)</span> thao tác trên mảng động tốn <span class="arithmatex">\(O(n)\)</span> thời gian thực trong trường hợp xấu nhất, dù cho một số thao tác đơn lẻ có thể tiêu tốn hơn thời gian tuyến tính.</p>
<p>Khi mảng động chứa các thao tác giảm kích thước mảng cũng như tăng kích thước, hàm tiềm năng cũng phải được thay đổi để tránh việc hàm bị âm. Một cách để làm đó là thêm trị tuyệt đối vào hàm tiềm năng ở trên.</p>
<h3 id="multi-pop-stack">Multi-Pop Stack</h3>
<p>Cho một stack hỗ trợ các thao tác sau:</p>
<ul>
<li><span class="arithmatex">\(Init\)</span>: tạo một stack rỗng.</li>
<li><span class="arithmatex">\(Push\)</span>: thêm một phần tử lên đỉnh stack, tăng size của nó lên 1.</li>
<li><span class="arithmatex">\(Pop(k)\)</span>: xoá <span class="arithmatex">\(k\)</span> phần tử từ đỉnh stack, trong đó <span class="arithmatex">\(k\)</span> không lớn hơn số phần tử hiện thời của stack.</li>
</ul>
<p><span class="arithmatex">\(Pop(k)\)</span> tốn <span class="arithmatex">\(O(k)\)</span> thời gian, nhưng ta có thể chứng minh được tất cả các thao tác tốn <span class="arithmatex">\(O(1)\)</span> thời gian phân bổ.</p>
<p>Cấu trúc dữ liệu này có thể được phân tích nhờ hàm Tiềm năng sau:</p>
<div class="arithmatex">\[\Phi = \text{số phần tử trong stack}\]</div>
<p>Rõ ràng số phần tử thì luôn không âm.</p>
<p>Một thao tác <span class="arithmatex">\(Push\)</span> tốn <span class="arithmatex">\(O(1)\)</span> và tăng <span class="arithmatex">\(\Phi\)</span> lên <span class="arithmatex">\(1\)</span>, nên thời gian phân bổ là hằng số.</p>
<p>Một thao tác <span class="arithmatex">\(Pop\)</span> tốn <span class="arithmatex">\(O(k)\)</span> và giảm <span class="arithmatex">\(\Phi\)</span> đi <span class="arithmatex">\(k\)</span>, nên thời gian phân bổ cũng là hằng số.</p>
<p>Điều này chứng tỏ bất kì chuỗi <span class="arithmatex">\(m\)</span> thao tác nào cũng tổn <span class="arithmatex">\(O(m)\)</span> thời gian trong trường hợp xấu nhất.</p>
<h3 id="bo-em-nhi-phan">Bộ đếm nhị phân</h3>
<p>Xét một bộ đếm dùng số nhị phân với các thao tác như sau:</p>
<ul>
<li><span class="arithmatex">\(Init\)</span>: tạo bộ đếm với giá trị là <span class="arithmatex">\(0\)</span>.</li>
<li><span class="arithmatex">\(Inc\)</span>: thêm <span class="arithmatex">\(1\)</span> vào giá trị của bộ đếm.</li>
<li><span class="arithmatex">\(Read\)</span>: trả về giá trị hiện thời của bộ đếm.</li>
</ul>
<p>Trong ví dụ này ta coi việc tăng giá trị tốn 1 đơn vị thời gian cho mỗi thao tác bit. Ta muốn chứng minh là thao tác <span class="arithmatex">\(Inc\)</span> tốn <span class="arithmatex">\(O(1)\)</span> thời gian phân bổ.</p>
<p>Cấu trúc dữ liệu này có thể được phân tích nhờ hàm Tiềm năng sau:</p>
<div class="arithmatex">\[\Phi = \text{số bit 1 của giá trị bộ đếm} = \text{khoảng-cách-hamming}(\text{bộ đếm})\]</div>
<p>Rõ ràng số phần tử thì luôn không âm.</p>
<p>Một thao tác <span class="arithmatex">\(Inc\)</span> đảo bit đầu tiên (bit bên phải ngoài cùng). Sau đó, nếu bit đầu tiên bị đảo từ <span class="arithmatex">\(1\)</span> về <span class="arithmatex">\(0\)</span>, bit tiếp theo cũng phải bị đảo. Việc này tiếp tục đến khi một bit được đảo từ <span class="arithmatex">\(0\)</span> sang <span class="arithmatex">\(1\)</span>. Đến đây thì nó dừng đảo. Nếu giá trị ban đầu có <span class="arithmatex">\(k\)</span> bit <span class="arithmatex">\(1\)</span> thì ta đảo tổng cộng <span class="arithmatex">\(k+1\)</span> bit, với thời gian thực là <span class="arithmatex">\(k+1\)</span>, trừ đi phần Tiềm năng là <span class="arithmatex">\(k-1\)</span> (trước thao tác ta có <span class="arithmatex">\(k\)</span> bit <span class="arithmatex">\(1\)</span>, sau thao tác ta có <span class="arithmatex">\(1\)</span> bit <span class="arithmatex">\(1\)</span>, nên <span class="arithmatex">\(\Phi(S_{trước}) - \Phi(S_{sau}) = k - 1\)</span>), thì thời gian phân bổ là <span class="arithmatex">\(2\)</span>. Vậy thời gian thực để chạy <span class="arithmatex">\(m\)</span> thao tác là <span class="arithmatex">\(O(m)\)</span>.</p>
<h2 id="ung-dung">Ứng dụng</h2>
<p>Hàm Tiềm năng thường được sử dung để phân tích Fibonacci Heap, một loại hàng chờ ưu tiên (priority queue) cho phép xoá phần tử với thời gian phân bổ là <span class="arithmatex">\(log\)</span>, và tất cả các thao tác khác với thời gian phân bổ là hằng số. Nó cũng được dùng để phân tích <a href="../../../data_structures/splay_tree/splay_tree/">Splay Tree</a>, một loại cây nhị phân tìm kiếm tự biến đổi với thời gian phân bổ của mỗi thao tác là <span class="arithmatex">\(log\)</span>.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-custom">04/04/2023 (GMT+07)</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-custom">06/11/2022 (GMT+07)</span>
      
    
  </small>
</div>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Bài viết này có tốt không?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="Bài viết rất hay" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9v12H1V9h4m4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21H9m0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03V19Z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="Bài viết cần được cải thiện" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 15V3h4v12h-4M15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3h9m0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97V5Z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Cảm ơn phản hồi tích cực của bạn!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Cảm ơn phản hồi của bạn! Nếu có thời gian mong bạn vui lòng giúp mình cải thiện bài viết bằng cách thêm issue vào  <a href="https://github.com/farmerboy95/CPBlogs/issues" target="_blank">GitHub</a> của trang này.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                

  
    <div class="md-source-date">
      <small>
          Authors: <span class='git-page-authors git-authors'><a href='mailto:jerry.stone.manutd@gmail.com'>farmerboy95</a></span>
      </small>
    </div>
  

              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 farmerboy
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/farmerboy95" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.top"], "search": "../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
    
      <script src="../../../../assets/javascripts/bundle.51198bba.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
    <script>
    var elements = document.getElementsByClassName("lightgallery");
    for(var i=0; i<elements.length; i++) {
       lightGallery(elements[i]);
    }
    </script>

  </body>
</html>