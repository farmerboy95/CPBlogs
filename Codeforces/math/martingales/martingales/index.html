
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://farmerboy95.github.io/CPBlogs/Codeforces/math/martingales/martingales/">
      
      
      
      
      <link rel="icon" href="../../../../img/logo.jpg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.2">
    
    
      
        <title>Xác suất 101, bí ẩn đằng sau Martingales và các bài tập ứng dụng - farmerboy's CP Blogs</title>
      
    
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.d451bc0e.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.a5377069.min.css">
      
      


    
    <link rel="stylesheet" href="../../../../css/lightgallery.min.css">

    
    
      
    
    <script src="../../../../js/lightgallery.min.js"></script>

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-W9EFM7GCX7"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-W9EFM7GCX7",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-W9EFM7GCX7",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
   <link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#xac-suat-101-bi-an-ang-sau-martingales-va-cac-bai-tap-ung-dung" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="farmerboy&#39;s CP Blogs" class="md-header__button md-logo" aria-label="farmerboy's CP Blogs" data-md-component="logo">
      
  <img src="../../../../img/logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            farmerboy's CP Blogs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Xác suất 101, bí ẩn đằng sau Martingales và các bài tập ứng dụng
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/farmerboy95/CPBlogs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    farmerboy95/CPBlogs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../.." class="md-tabs__link">
          
  
  Trang chủ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../graph/dfs_tree/dfs_tree/" class="md-tabs__link">
          
  
  Codeforces

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../cp-algorithms/algebra/binary_exponentiation/binary_exponentiation/" class="md-tabs__link">
          
  
  cp-algorithms

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Codechef/data_structures/disjoint_sparse_table/disjoint_sparse_table/" class="md-tabs__link">
          
  
  Codechef

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../LeetCode/reservoir_sampling/reservoir_sampling/" class="md-tabs__link">
          
  
  LeetCode

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Misc/complexity_analysis/asymptotic_notations/asymptotic_notations/" class="md-tabs__link">
          
  
  Nguồn khác

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="farmerboy&#39;s CP Blogs" class="md-nav__button md-logo" aria-label="farmerboy's CP Blogs" data-md-component="logo">
      
  <img src="../../../../img/logo.jpg" alt="logo">

    </a>
    farmerboy's CP Blogs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/farmerboy95/CPBlogs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    farmerboy95/CPBlogs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Trang chủ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Trang chủ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lời chào
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../navigation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Các tài liệu
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Codeforces
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Codeforces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Đồ thị
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Đồ thị
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../graph/dfs_tree/dfs_tree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cây DFS và ứng dụng
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Xử lý bit
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Xử lý bit
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../bit_manipulation/xor_basis/xor_basis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kĩ thuật Vector cơ sở cho các bài toán XOR
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Toán học
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Toán học
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../floors_ceilings_inequalities/floors_ceilings_inequalities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Floor, ceiling và bất đẳng thức cho người mới học
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../sums_and_expected_value/sums_and_expected_value/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tổng và Giá trị kỳ vọng
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Hashing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Hashing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../hashing/blowing_up_unordered_map/blowing_up_unordered_map/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Giải mã và chống hack cho unordered_map trong C++
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C++
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            C++
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../c%2B%2B/no_rand/no_rand/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ngưng xài rand() - Tổng quan về các trình sinh số ngẫu nhiên trong C++
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Các thuật toán ngẫu nhiên và gần đúng
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Các thuật toán ngẫu nhiên và gần đúng
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../randomized_algorithms/hacking_randomized_solutions/hacking_randomized_solutions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Làm sao hack các solution ngẫu nhiên và cách ngăn chặn nó
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    cp-algorithms
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            cp-algorithms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Đại số
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Đại số
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cp-algorithms/algebra/binary_exponentiation/binary_exponentiation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Luỹ thừa nhị phân
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cấu trúc dữ liệu
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Cấu trúc dữ liệu
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_1" >
        
          
          <label class="md-nav__link" for="__nav_3_2_1" id="__nav_3_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cơ bản
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_1">
            <span class="md-nav__icon md-icon"></span>
            Cơ bản
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cp-algorithms/data_structures/fundamentals/min_stack_min_queue/min_stack_min_queue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Minimum Stack / Minimum Queue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cp-algorithms/data_structures/fundamentals/sparse_table/sparse_table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sparse Table
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cây
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            Cây
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cp-algorithms/data_structures/trees/sqrt_tree/sqrt_tree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sqrt Tree
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cp-algorithms/data_structures/trees/dsu/dsu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Disjoint Set Union
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Codechef
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Codechef
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cấu trúc dữ liệu
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Cấu trúc dữ liệu
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Codechef/data_structures/disjoint_sparse_table/disjoint_sparse_table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Disjoint Sparse Table
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    LeetCode
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            LeetCode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/reservoir_sampling/reservoir_sampling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lấy mẫu hồ chứa (Reservoir Sampling)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/search_in_rotated_sorted_array/search_in_rotated_sorted_array/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tìm kiếm trên mảng đã sắp xếp nhưng đã xoay
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/basic_calculator/basic_calculator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tính toán biểu thức từ xâu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/sorting/sorting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Các thuật toán sắp xếp - Sắp ra mắt
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Nguồn khác
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Nguồn khác
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Phân tích Độ phức tạp
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            Phân tích Độ phức tạp
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/complexity_analysis/asymptotic_notations/asymptotic_notations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Các ký hiệu tiệm cận
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/complexity_analysis/potential_method/potential_method/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Phương pháp Tiềm năng
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cấu trúc dữ liệu
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Cấu trúc dữ liệu
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/data_structures/splay_tree/splay_tree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Splay Tree: Một mình anh chấp hết
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Xác suất
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Xác suất
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/probability/probability/probability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Xác suất
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/probability/expected_value/expected_value/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Giá trị kỳ vọng
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/probability/linearity_of_expectation/linearity_of_expectation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kỳ vọng tuyến tính
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Kinh nghiệm
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Kinh nghiệm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/experience/being_better/being_better/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Làm thế nào để giỏi hơn trong lập trình thi đấu?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/experience/icpc_strategy/icpc_strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chiến thuật khi thi ICPC
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nguon" class="md-nav__link">
    Nguồn
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chu-y" class="md-nav__link">
    Chú ý
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loi-tua-cua-tac-gia" class="md-nav__link">
    Lời tựa (của tác giả)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xac-suat-ai-so-sigma-va-bien-ngau-nhien" class="md-nav__link">
    Xác suất, đại số sigma và biến ngẫu nhiên
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gia-tri-ki-vong-cua-mot-bien-ngau-nhien-va-xac-suat-co-ieu-kien" class="md-nav__link">
    Giá trị kì vọng của một biến ngẫu nhiên và xác suất có điều kiện
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ki-vong-co-ieu-kien-cua-mot-bien-ngau-nhien-oi-voi-ai-so-sigma" class="md-nav__link">
    Kì vọng có điều kiện của một biến ngẫu nhiên đối với đại số sigma
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#martingales" class="md-nav__link">
    Martingales
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#thoi-gian-dung-stopping-times" class="md-nav__link">
    Thời gian dừng (Stopping times)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mot-so-bai-tap-toan" class="md-nav__link">
    Một số bài tập toán
  </a>
  
    <nav class="md-nav" aria-label="Một số bài tập toán">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bai-1" class="md-nav__link">
    Bài 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bai-2" class="md-nav__link">
    Bài 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bai-3-usa-imo-2018-winter-tst-1-p2" class="md-nav__link">
    Bài 3 (USA IMO 2018 Winter TST 1, P2)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bai-4-2022-putnam-a4" class="md-nav__link">
    Bài 4 (2022 Putnam A4)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bai-5-agmc-2021-p1" class="md-nav__link">
    Bài 5 (AGMC 2021 P1)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bai-6" class="md-nav__link">
    Bài 6
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bai-7-alon-spencer" class="md-nav__link">
    Bài 7 (Alon, Spencer)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#luyen-tap" class="md-nav__link">
    Luyện tập
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
                  

  
  


<h1 id="xac-suat-101-bi-an-ang-sau-martingales-va-cac-bai-tap-ung-dung">Xác suất 101, bí ẩn đằng sau Martingales và các bài tập ứng dụng</h1>
<h2 id="nguon">Nguồn</h2>
<p><a class="glightbox" href="/CPBlogs/img/codeforces.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img src="/CPBlogs/img/codeforces.png" width="16" height="16"/></a> <a href="https://codeforces.com/blog/entry/110801">Probability 101, the intuition behind martingales and solving problems with them</a></p>
<h2 id="chu-y">Chú ý</h2>
<p><strong>Đây là một bài dịch mình không thực sự hài lòng. Có lẽ là do mình không hiểu hết ý nghĩa mà tác giả muốn truyền tải. Bài này quá nặng về toán.</strong></p>
<h2 id="loi-tua-cua-tac-gia">Lời tựa (của tác giả)</h2>
<p>Gần đây có người nhờ tôi giải thích vài bài toán kiểu như: "Tìm thời gian kì vọng trước khi XYZ xảy ra". Để ý rằng thời gian hoàn thành là một biến ngẫu nhiên, và trong lý thuyết xác suất, những biến ngẫu nhiên như thế được gọi là "thời gian dừng" (rõ ràng rồi). Hoá ra các bài toán này có thể được giải bằng thứ được gọi là martingales, hay nói cách khác là những quy trình ngẫu nhiên với các hằng số đẹp đẽ cùng một đống các tính chất.</p>
<p>Tôi nghĩ nhiều người không hiểu những thứ đó cùng với việc vì sao chúng lại hữu dụng. Nên tôi hi vọng bài viết sẽ giúp các bạn hiểu sâu hơn. Lưu ý rằng với tinh thần rõ ràng, tôi sẽ chỉ xử lý các tập hữu hạn và các quy trình thời gian hữu hạn (trừ khi thực sự cần thiết, và trong các trường hợp như vậy, việc giải thích cần phải rõ ràng). Tôi làm điều này vì mọi người thường lạc lối trong các khía cạnh lý thuyết đo lường của sự chặt chẽ cần thiết và bỏ qua các điểm mấu chốt mà họ cần phải hiểu. Ngoài ra, lưu ý rằng dôi khi phần giải thích sẽ có nhiều phần hơn mức cần thiết, nhưng là để giúp các bạn hiểu sâu hơn là trình bày ngắn gọn nhưng khó hiểu.</p>
<p>Những người đã quen với các khái niệm ban đầu có thể bỏ qua các phần này và đi tới những phần thú vị hơn, nhưng tôi vẫn sẽ khuyên các bạn đọc toàn bộ phần giải thích trong trường hợp bạn khuất mắc chỗ nào đó. Khải niệm tập hợp "tối thiểu" được dùng rất nhiều ở đây về mặt tâm lý, vì vậy có thể bạn vẫn muốn đọc các phần có liên quan được giới thiệu trong blog này.</p>
<p><strong>BONUS</strong>: Đây là một <a href="https://arxiv.org/pdf/2008.13017.pdf">bài báo khoa học</a> nói về việc dùng martingales để giải các bài toán.</p>
<h2 id="xac-suat-ai-so-sigma-va-bien-ngau-nhien">Xác suất, đại số sigma và biến ngẫu nhiên</h2>
<p>Đầu tiên ta cùng xem lại các định nghĩa đã được đơn giản hoá của không gian xác suất. Ta nói "đã được đơn giản hoá" vì có vài kỹ thuật cần được dùng cho tập vô hạn, nhưng ta sẽ không xét tập vô hạn ở đây.</p>
<p>Một <strong>không gian xác suất</strong> là bộ ba <span class="arithmatex">\((\Omega, \mathcal{F}, P)\)</span> bao gồm</p>
<ol>
<li><span class="arithmatex">\(\Omega\)</span> một tập nền không rỗng, hay còn gọi là không gian mẫu. Nó còn có thể được xem là tất cả các kết quả có thể xảy ra của một phép thử.</li>
<li><span class="arithmatex">\(\mathcal{F}\)</span>: sigma-đại số. Đây là tập hợp bao gồm các tập con của <span class="arithmatex">\(\Omega\)</span>. Lưu ý rằng đây không phải là tập bao gồm tất cả các tập con của <span class="arithmatex">\(\Omega\)</span> (<a href="https://vi.wikipedia.org/wiki/T%E1%BA%ADp_l%C5%A9y_th%E1%BB%ABa">tập luỹ thừa</a> của <span class="arithmatex">\(\Omega\)</span>). Có thể xem các phần tử của tập này (các tập con được chọn) là các "biến cố". Ví dụ, khi tung một cục xúc xắc, một biến cố có thể xảy ra là "tung ra số chẵn". Với phép thử này, ta có <span class="arithmatex">\(\Omega = \{1, 2, 3, 4, 5, 6\}\)</span>, và biến cố này là <span class="arithmatex">\(\{2, 4, 6\}\)</span>.</li>
<li><span class="arithmatex">\(P\)</span>: hàm xác suất, hàm ánh xạ từ <span class="arithmatex">\(\mathcal{F}\)</span> sang đoạn <span class="arithmatex">\([0, 1]\)</span>. Đây thực ra chỉ là trọng số ta gán vào mọi biến cố mà ta chọn.</li>
</ol>
<p>Để hàm này có các tính chất hay ho và để nó tính xác suất một cách "có lý" hơn, ta thêm vào các điều kiện sau:</p>
<ol>
<li><span class="arithmatex">\(\Omega\)</span> là một biến cố (hay nói cách khác là <span class="arithmatex">\(\Omega \in \mathcal{F}\)</span>).</li>
<li>Nếu <span class="arithmatex">\(A \in \mathcal{F}\)</span>, thì <span class="arithmatex">\(\Omega \setminus A \in \mathcal{F}\)</span>, nghĩa là nếu cái gì đó xảy ra là một biến cố, thì nó không xảy ra cũng là một biến cố.</li>
<li>Nếu <span class="arithmatex">\(A \in \mathcal{F}\)</span> và <span class="arithmatex">\(B \in \mathcal{F}\)</span>, thì <span class="arithmatex">\(A \cup B \in \mathcal{F}\)</span>. Nghĩa là, nếu <span class="arithmatex">\(X\)</span> xảy ra là một biến cố, <span class="arithmatex">\(Y\)</span> xảy ra cũng là một biến cố, thì ít nhất một trong <span class="arithmatex">\(X\)</span> và <span class="arithmatex">\(Y\)</span> xảy ra cũng là một biến cố. Lưu ý rằng điều này kết hợp với điều kiện 2 đó cho phép ta nói rằng <span class="arithmatex">\(A \cap B\)</span> cũng là một biến cố và các tính chất tương tự, theo luật De Morgan.</li>
<li><span class="arithmatex">\(P(\Omega) = 1\)</span>, nghĩa là xác suất của toàn bộ không gian mẫu là <span class="arithmatex">\(1\)</span>.</li>
<li>Với các tập rời rạc <span class="arithmatex">\(A\)</span> và <span class="arithmatex">\(B\)</span>, <span class="arithmatex">\(P(A \cup B) = P(A) + P(B)\)</span>. Điều kiện này, kết hợp với điều kiện 4, là đủ để có được một số điều kiện được suy ra như <span class="arithmatex">\(P(\emptyset) = 0\)</span> hay <span class="arithmatex">\(P(A) + P(\Omega \setminus A) = 1\)</span>.</li>
</ol>
<p>Giờ ta hãy xây dựng một số hiểu biết về không gian xác suất. Lưu ý rằng, các đoạn sau đây, đặc biệt là phần nói về các tập tối thiểu, chỉ áp dụng cho các tập hữu hạn, nhưng có rất nhiều điểm tương đồng trong các kết luận khi ta khái quát hoá sang các tập khác với các khái niệm lý thuyết tính toán.</p>
<p>Để ý rằng vì <span class="arithmatex">\(\mathcal{F}\)</span> đóng kín với phép giao (tức là nếu <span class="arithmatex">\(E_i \in \mathcal{F}\)</span> thì giao của tất cả các bộ <span class="arithmatex">\(E_i\)</span> cũng phải thuộc <span class="arithmatex">\(\mathcal{F}\)</span>, theo điều kiện 3), nếu ta thực hiện quá trình sau nhiều lần: lấy hai tập và thay thế chúng bằng giao của hai tập đó, đến cuối cùng ta sẽ chỉ còn các tập "tối thiểu" không rỗng mà ta không thể nào cực tiểu thêm (điều này thực sự không chuẩn lắm nhưng ta sẽ dùng rất nhiều trong các phần sau). Xét tất cả các tập tối thiểu như thế. Rõ ràng, các tập này tạo thành các phân hoạch của <span class="arithmatex">\(\Omega\)</span> vì chúng rời rạc (nếu không sẽ mâu thuẫn với tính tối giản) và vì mọi phần tử đều nằm trong một tập tối giản (với thực tế là <span class="arithmatex">\(\mathcal{F}\)</span> đóng kín với phép bù, theo điều kiện 1, và xây dựng một tập tối thiểu nếu cần, hoặc chỉ bằng cách giao tất cả các tập chứa phần tử đó - có ít nhất một tập như vậy, đó là <span class="arithmatex">\(\Omega\)</span>). Giờ <span class="arithmatex">\(\mathcal{F}\)</span> đóng kín với phép hợp (theo điều kiện 3), nên nó cũng bằng tập của tất cả các hợp có thể có của các tập con tối thiểu này. Nói cách khác, ta có một phân hoạch các phần tử của <span class="arithmatex">\(\Omega\)</span> thành một số tập hợp, và <span class="arithmatex">\(\mathcal{F}\)</span> là tập hợp được tạo thành bởi tất cả các hợp có thể có của các tập hợp trong phân hoạch đó. Bây giờ ta có thể nghĩ về các <span class="arithmatex">\(\sigma\)</span>-đại số dưới dạng phân hoạch! Ngoài ra, lưu ý rằng xác suất của mỗi biến cố tối thiểu của <span class="arithmatex">\(\sigma\)</span>-sigma sẽ cộng lại khi lấy các hợp.</p>
<p>Trong một số trường hợp, ta có thể xây dựng một không gian mẫu tương đương <span class="arithmatex">\((\Omega', \mathcal{F}', P')\)</span> với <span class="arithmatex">\(\Omega'\)</span> là tập các biến cố tối thiểu của <span class="arithmatex">\(\mathcal{F}\)</span>, <span class="arithmatex">\(\mathcal{F}'\)</span> là tập luỹ thừa của <span class="arithmatex">\(\Omega'\)</span> và <span class="arithmatex">\(P'\)</span> được định nghĩa tự nhiên từ <span class="arithmatex">\(P\)</span>. Định nghĩa này không tiêu chuẩn lắm nhưng sẽ có ích về sau. Lưu ý rằng nếu <span class="arithmatex">\(\mathcal{F}\)</span> là tập luỹ thừa của <span class="arithmatex">\(\Omega\)</span>, thì không gian mẫu tương đương sẽ giống như không gian mẫu ban đầu. Trong trường hợp này, tất cả các <span class="arithmatex">\(\sigma\)</span>-đại số khác sẽ thô hơn tập luỹ thừa, với các tập tối thiểu của chúng đều là các phần tử đơn lẻ.</p>
<p>Đến bước này, ta nhận ra rằng <span class="arithmatex">\(\mathcal{F}\)</span> chỉ ra ta có bao nhiêu "thông tin" về <span class="arithmatex">\(\Omega\)</span> (ta không thể phân biệt hai phần tử trong cùng một tập tối thiểu). Ý tưởng này cùng với kiến thức phân hoạch ở trên là một cách tốt để tìm ra cách thu thập thông tin theo thời gian trong các tiến trình ngẫu nhiên. Ta sẽ đến bước đó sau.</p>
<p>Giờ ta đến định nghĩa chính thức của một biến ngẫu nhiên.</p>
<p>Một <strong>biến ngẫu nhiên</strong> đối với một không gian xác suất <span class="arithmatex">\((\Omega, \mathcal{F}, P)\)</span> là hàm <span class="arithmatex">\(X\)</span> ánh xạ từ <span class="arithmatex">\(\Omega\)</span> sang <span class="arithmatex">\(\mathbb{R}\)</span> mà <span class="arithmatex">\(X^{-1}((-\infty, x]) \in \mathcal{F}\)</span> với mọi <span class="arithmatex">\(x \in \mathbb{R}\)</span>. Nghĩa là, tập tiền đề của các số thực <span class="arithmatex">\(\le x\)</span> thuộc <span class="arithmatex">\(\mathcal{F}\)</span>.</p>
<p>Lưu ý rằng do ta đang xét các tập hữu hạn, ta sẽ dùng một định nghĩa khác (nhưng tương đương với tập hữu hạn), định nghĩa này cho phép ta thay đoạn bằng <span class="arithmatex">\((-\infty, x]\)</span> <span class="arithmatex">\(\{x\}\)</span>.</p>
<p>Viết như thế này có thể trông hơi đáng sợ nhưng ý tưởng thì lại khá đơn giản. Ta có một không gian mẫu <span class="arithmatex">\(\Omega\)</span>, và có một tập <span class="arithmatex">\(\mathbb{R}\)</span>. Giờ ta muốn ánh xạ các phần tử của <span class="arithmatex">\(\Omega\)</span> sang <span class="arithmatex">\(\mathbb{R}\)</span> bằng cách nào đó sao cho ta có thể tính toán trên các phần tử của <span class="arithmatex">\(\Omega\)</span>. Tuy nhiên, trong một không gian mẫu, <span class="arithmatex">\(\mathcal{F}\)</span> cho ta biết ta có bao nhiêu thông tin (hoặc cho ta thấy bao nhiêu thông tin), ta không thể phân biệt được các phần tử trong <span class="arithmatex">\(\Omega\)</span> nằm trong cùng một biến cố tối thiểu của <span class="arithmatex">\(\mathcal{F}\)</span>. Do có hữu hạn các phần tử trong <span class="arithmatex">\(\Omega\)</span>, và các phần tử nằm trong cùng một biến cố tối thiếu nên được ánh xạ sang cùng một số thực, sẽ chỉ có hữu hạn các đoạn mà <span class="arithmatex">\(X\)</span> phân hoạch <span class="arithmatex">\(\mathbb{R}\)</span> ra, và đó cũng là tất cả các điều kiện cần và đủ của định nghĩa (do tính đóng của <span class="arithmatex">\(\mathcal{F}\)</span> với phép giao và hợp).</p>
<p>Thêm một lưu ý nữa là ta cũng có thể định nghĩa các hàm của một biến ngẫu nhiên ở bước này bằng cách kết hợp hàm <span class="arithmatex">\(X\)</span> với một hàm ánh xạ từ <span class="arithmatex">\(\mathbb{R}\)</span> sang <span class="arithmatex">\(\mathbb{R}\)</span>. Tương tự, nếu ta có hai biến ngẫu nhiên trên cùng một không gian mẫu, ta cũng có thể định nghĩa các hàm của chúng một cách khá tự nhiên. Sau cùng, ta chỉ cần chỉ định các giá trị của chúng trên các tập tối thiểu là xong.</p>
<h2 id="gia-tri-ki-vong-cua-mot-bien-ngau-nhien-va-xac-suat-co-ieu-kien">Giá trị kì vọng của một biến ngẫu nhiên và xác suất có điều kiện</h2>
<p>Giả sử ta có một không gian mẫu <span class="arithmatex">\((\Omega, \mathcal{F}, P)\)</span> và một biến ngẫu nhiên <span class="arithmatex">\(X\)</span> trên không gian mẫu này. Làm sao để ta tìm được một số loại giá trị trung bình của <span class="arithmatex">\(X\)</span> trên toàn bộ không gian xác suất? Một đáp án có thể là: với mỗi sự kiện tối thiểu, ta xét giá trị chung của biến ngẫu nhiều tại mỗi phần tử của biến cố đó, và thêm nó vào một tổng trọng số với trọng số bằng với xác suất của biến cố tối thiểu đó. Lưu ý rằng một số biến cố tối thiểu tạo một phân hoạch nên tổng các trọng số này là <span class="arithmatex">\(1\)</span>. Trong một số trường hợp, đây là giá trị trung bình của biến ngẫu nhiên trên tất cả các biến cố tối thiểu, được tính trọng số theo độ quan trọng của chúng.</p>
<p>Nhưng mà làm sao ta có thể viết chúng theo kiểu toán học mà không liên quan gì đến biến cố tối thiểu? Cùng xem lại điều kiện trong định nghĩa biến ngẫu nhiên. Thay vì tổng các biến cố tối thiểu, ta có thể lấy tổng các giá trị <span class="arithmatex">\(x\)</span> khác nhau của biến ngẫu nhiên, và đánh trọng số chúng bằng xác suất để biến đó bằng <span class="arithmatex">\(x\)</span>. Xác suất này được xác định rõ do điều kiện trong định nghĩa của biến ngẫu nhiên (vì biến cố có biến ngẫu nhiên bằng <span class="arithmatex">\(x\)</span> là hợp rời rạc của các biến cố tối thiểu và xác suất của chúng cộng lại). Định nghĩa này cũng phù hợp với các hiểu biết trước đó của chúng ta.</p>
<p>Vì thế nên ta có thể định nghĩa <strong>giá trị kì vọng của một biến ngẫu nhiên</strong> <span class="arithmatex">\(X\)</span> là <span class="arithmatex">\(E[X] := \sum_{x \in \text{range}(X)} x \cdot P(X = x)\)</span>.</p>
<p>Lưu ý rằng với định nghĩa trước đó liên quan đến biến cố tối thiểu, ta cũng dễ dàng suy ra được với bất kỳ biến ngẫu nhiên <span class="arithmatex">\(X\)</span>, <span class="arithmatex">\(Y\)</span> nào trên cũng một không gian xác suất, ta có <span class="arithmatex">\(E[X + Y] = E[X] + E[Y]\)</span>.</p>
<p>Giờ hãy xem làm sao ta có thể cô lập một biến cố. Giả sử ta có biến cố <span class="arithmatex">\(E\)</span>. Ta muốn bỏ qua tất cả những thứ khác và chỉ tập trung vào các phần tử của <span class="arithmatex">\(\Omega\)</span> (bao gồm các biến cố tối thiểu của <span class="arithmatex">\(\mathcal{F}\)</span> tạo thành một phân hoạch của <span class="arithmatex">\(E\)</span>). Ta có thể tạo ra một không gian xác suất cho nó hay không? Một cách đơn giản là kế thừa cấu trúc của <span class="arithmatex">\(\Omega\)</span> và <span class="arithmatex">\(\mathcal{F}\)</span> và tập các xác suât của mọi thứ dùng các phần tử không phải tối thiểu cấu thành <span class="arithmatex">\(E\)</span> là <span class="arithmatex">\(0\)</span>, nhưng ta lại gặp một rắc rối nếu ta chỉ kế thừa hàm xác suất. Tổng xác suất của tất cả các biến cố tối thiểu không bằng <span class="arithmatex">\(1\)</span>. Một cách giải quyết là chuẩn hoá nó bằng <span class="arithmatex">\(P(E)\)</span>, điều này khả thi khi và chỉ khi nó khác <span class="arithmatex">\(0\)</span>. Có thể dễ dàng kiểm tra không gian xác suất này thực sự là một không gian xác suất hợp lệ.</p>
<p>Đây là cách ta định nghĩa không gian xác suất có điều kiện đối với một biến cố <span class="arithmatex">\(E\)</span> với <span class="arithmatex">\(P(E) &gt; 0\)</span>. Không gian mẫu và <span class="arithmatex">\(\sigma\)</span>-đại số giữ nguyên nhưng hàm xác suất trở thành <span class="arithmatex">\(P(A | E) := P'(A) = P(A \cap E) / P(E)\)</span>. Không gian xác suất có điều kiện này là phù hợp với các lập luận trước đó bằng cách xem xét các phần tử tối thiểu.</p>
<p>Một cách nhìn rõ ràng hơn là chúng ta chỉ thực sự quan tâm đến một số tập con của <span class="arithmatex">\(\Omega\)</span> và <span class="arithmatex">\(\mathcal{F}\)</span> tương ứng với các phần tử trong <span class="arithmatex">\(E\)</span>, và chúng ta định nghĩa một không gian xác suất với <span class="arithmatex">\(E\)</span> là tập cơ sở. Nhưng để dám chắc rằng ta có thể tương tác với các biến cố khác trong <span class="arithmatex">\(\mathcal{F}\)</span>, ta lấy biến cố đó, cắt bớt các phần không có trong <span class="arithmatex">\(E\)</span>, sau đó sử dụng xác suất (hoặc trọng số tương đố) của tập hợp đó đối với xác suất (hoặc trọng số) của <span class="arithmatex">\(E\)</span>.</p>
<p>Một hệ quả tất yếu của điều này là: <span class="arithmatex">\(\sum_{E_i} P(A | E_i) P(E_i) = P(A)\)</span> với một phân hoạch của <span class="arithmatex">\(\Omega\)</span> trong biến cố <span class="arithmatex">\(E_i\)</span>. Ta có thể thấy điều này đúng khi chỉ xét các tập tối thiểu trong <span class="arithmatex">\(A\)</span>. Trong thực tế, điều này được dùng để giải rất nhiều liên hệ lặp lại, như trong định lý Bayes.</p>
<p>Nó cũng có biến thể liên quan đến giá trị kì vọng, và nếu ta hạn chế một biến ngẫu nhiên trong từng không gian xác suất có điều kiện, bằng cách tổng hợp các tập tối thiểu, ta sẽ thấy rằng nếu <span class="arithmatex">\(E[X | E_i]\)</span> là giá trị kì vọng của <span class="arithmatex">\(X\)</span> đối với không gian xác suất có điều kiện đối với <span class="arithmatex">\(E_i\)</span>, thì <span class="arithmatex">\(\sum_{E_i} E[X | E_i] P(E_i) = E[X]\)</span>. Biến thể này cũng được dùng trong liên hệ lặp lại, như việc tìm thời gian kì vọng trước khi ta tung ra được hai mặt trên đồng xu liên tiếp (mặc dùng không gian mẫu này vô hạn, các tính chất vẫn được giữ nguyên).</p>
<h2 id="ki-vong-co-ieu-kien-cua-mot-bien-ngau-nhien-oi-voi-ai-so-sigma">Kì vọng có điều kiện của một biến ngẫu nhiên đối với đại số sigma</h2>
<p>Ở trên ta đã định nghĩa không gian xác suất tương đương. Nó ứng với việc thu gọn các lớp tương đương (được xác định bởi phân hoạch) thành một phần tử duy nhất, để tạo ra một không gian xác suất trên đó làm không gian mẫu. Điều gì sẽ xảy ra nếu chúng ta làm vậy lần nữa, sau khi xác định một không gian xác suất thưa / thô hơn trên không gian xác suất thu được?</p>
<p>Tất nhiên, điều này sẽ dẫn đến một phân vùng thô hơn của không gian mẫu trong vài trường hợp, và nếu <span class="arithmatex">\(\mathcal{F}_1\)</span> là <span class="arithmatex">\(\sigma\)</span>-đại số gốc, <span class="arithmatex">\(\mathcal{F}_2\)</span> là <span class="arithmatex">\(\sigma\)</span>-đại số mới (cả hai đều ứng với cùng <span class="arithmatex">\(\Omega\)</span>, sau khi mở lần làm thô thứ hai), thì <span class="arithmatex">\(\mathcal{F}_2 \subseteq \mathcal{F}_1\)</span>.</p>
<p>Giờ giả sử ta có một biến ngẫu nhiên <span class="arithmatex">\(X\)</span> trên không gian xác suất ban đầu. Làm sao ta điều chỉnh / giảm biến ngẫu nhiên thành không gian xác suất thô hơn này đây? Đây là nơi giá trị kì vọng xuất hiện. Ta sẽ chọn một định nghĩa cho kì vọng có điều kiện và thấy rằng nó thoả mãn nhiều tính chất hay ho và phù hợp với các đồng nhất xác suất có điều kiện mà ta tìm được trong phần trước.</p>
<p>Lưu ý rằng <span class="arithmatex">\(X\)</span> là hằng số trên tất cả tập tối thiểu của <span class="arithmatex">\(\mathcal{F}_1\)</span>. Định nghĩa <strong>kì vọng có điều kiện của <span class="arithmatex">\(X\)</span> đối với <span class="arithmatex">\(\sigma\)</span>-đại số <span class="arithmatex">\(\mathcal{F}_2\)</span></strong> là biến ngẫu nhiên <span class="arithmatex">\(E[X | \mathcal{F_2}] := X'\)</span> mà trên mọi phần tử của tập tối thiểu <span class="arithmatex">\(E_i\)</span> của <span class="arithmatex">\(\mathcal{F}_2\)</span>, <span class="arithmatex">\(X'\)</span> là giá trị của <span class="arithmatex">\(E[X | E_i]\)</span>. Điều này nghĩa là ta đang cố gắng lấy "trung bình có điều kiện" của thông tin về các giá trị của <span class="arithmatex">\(X\)</span> trên tập <span class="arithmatex">\(E_i\)</span>. Dễ thấy <span class="arithmatex">\(E[X'] = E[X]\)</span>, nơi mà kì vọng đầu tiên được thực hiện trên không gian xác suất thô hơn, và kì vọng thứ hai được lấy trên không gian xác suất sau đó. <span class="arithmatex">\(X'\)</span> được gọi là kì vọng có điều kiện của <span class="arithmatex">\(X\)</span> đối với <span class="arithmatex">\(\sigma\)</span>-đại số <span class="arithmatex">\(\mathcal{F}_2\)</span>.</p>
<p>Để dễ hiểu hơn, ta xét ví dụ sau:</p>
<details class="tip">
<summary>Ví dụ</summary>
<p>Cho một không gian mẫu <span class="arithmatex">\((\Omega, \mathcal{F}_1, P)\)</span>, một biến ngẫu nhiên <span class="arithmatex">\(X\)</span> trên không gian mẫu này, và một <span class="arithmatex">\(\sigma\)</span>-đại số <span class="arithmatex">\(\mathcal{F}_2 \subseteq \mathcal{F}_1\)</span> như sau:</p>
<ol>
<li><span class="arithmatex">\(\Omega = \{1, 2, \dots, 10\}\)</span>.</li>
<li><span class="arithmatex">\(\mathcal{F}_1\)</span> có các tập tối thiểu <span class="arithmatex">\(\{1, 2, 3\}, \{4\}, \{5, 6\}, \{7\}, \{8, 9, 10\}\)</span>.</li>
<li><span class="arithmatex">\(P(S)\)</span> của các tập tối thiểu <span class="arithmatex">\(S\)</span> lần lượt là <span class="arithmatex">\(1/8, 1/8, 1/4, 1/3, 1/6\)</span>.</li>
<li><span class="arithmatex">\(\mathcal{F}_2\)</span> có các tập tối thiểu <span class="arithmatex">\(\{1, 2, 3, 5, 6\}, \{4\}, \{7, 8, 9, 10\}\)</span>.</li>
<li><span class="arithmatex">\(X\)</span> có các giá trị <span class="arithmatex">\([1, 1, 1, 2, 3, 3, 3, 4, 4, 4]\)</span> lần lượt cho <span class="arithmatex">\([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\)</span>.</li>
</ol>
<p>Thì <span class="arithmatex">\(E[X | \mathcal{F}_2]\)</span> được xác định như sau:</p>
<ol>
<li>Trên tập tối thiểu <span class="arithmatex">\(S = \{1, 2, 3, 5, 6\}\)</span>, kì vọng có điều kiện <span class="arithmatex">\(E[X | S] = (1/8 + 3/4) / (1/8 + 1/4) = 7/3\)</span>.</li>
<li>Trên tập tối thiểu <span class="arithmatex">\(S = \{4\}\)</span>, kì vọng có điều kiện <span class="arithmatex">\(E[X | S] = 2\)</span>.</li>
<li>Trên tập tối thiểu <span class="arithmatex">\(S = \{7, 8, 9, 10\}\)</span>, kì vọng có điều kiện <span class="arithmatex">\(E[X | S] = (3/3 + 4/6) / (1/3 + 1/6) = 10/3\)</span>.</li>
</ol>
<p>Nên biến ngẫu nhiên <span class="arithmatex">\(E[X | \mathcal{F}_2]\)</span> lấy các giá trị <span class="arithmatex">\([7/3, 7/3, 7/3, 2, 7/3, 7/3, 10/3, 10/3, 10/3, 10/3]\)</span> lần lượt cho <span class="arithmatex">\([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\)</span>.</p>
</details>
<p>Ta có vài lưu ý sau:</p>
<ol>
<li>Theo một cách nào đó, ta đang cố gắng thay thế biến ngẫu nhiên bằng "xấp xỉ tốt nhất" của nó theo một nghĩa nào đó (ví dụ như nghĩa giảm thiểu phương sau, nhưng điều đó hoàn toàn không liên quan). Cũng lưu ý rằng kỳ vọng của biến ngẫu nhiên không thay đổi khi áp dụng điều này cho <span class="arithmatex">\(X\)</span>.</li>
<li>Với <span class="arithmatex">\(\sigma\)</span>-đại số đơn giản <span class="arithmatex">\(\mathcal{F}_2 = \{\emptyset, \Omega\}\)</span>, biến ngẫu nhiên <span class="arithmatex">\(E[X | \mathcal{F_2}]\)</span> đồng nhất với hàm hằng bằng <span class="arithmatex">\(E[X]\)</span>.</li>
</ol>
<p>Ta cũng có thể xâu chuỗi một vài phần thô. Giả sử <span class="arithmatex">\(\mathcal{F}_3 \subseteq \mathcal{F}_2 \subseteq \mathcal{F}_1\)</span> và <span class="arithmatex">\(X\)</span> là một biến ngẫu nhiên đối với không gian xác suất <span class="arithmatex">\((\Omega, \mathcal{F}_1, P)\)</span>. Thì ta sẽ có <span class="arithmatex">\(E[E[X | \mathcal{F}_2] | \mathcal{F}_3] = E[X | \mathcal{F_3}]\)</span>, có thể được chứng minh dễ dàng bằng cách xâu chuỗi các kỳ vọng có điều kiện. Trên thực tế, kỳ vọng vẫn giữ nguyên ngay cả khi làm thô là hệ quả trực tiếp của điểm này và điểm cuối cùng.</p>
<p>Một thuật ngữ được sử dụng phổ biến hơn là kỳ vọng có điều kiện đối với một biến ngẫu nhiên khác. Nó thường được định nghĩa như sau:</p>
<p>Giả sử <span class="arithmatex">\(X\)</span> và <span class="arithmatex">\(Y\)</span> là các biến ngẫu nhiên trên cùng không gian xác suất. Với bât kỳ phần tử <span class="arithmatex">\(\omega\)</span> nào của không gian mẫu mà <span class="arithmatex">\(Y(\omega) = y\)</span>, ta định nghĩa <span class="arithmatex">\(E[X | Y]\left(\omega\right) = E[X | E]\)</span> với <span class="arithmatex">\(E\)</span> là biến cố mà <span class="arithmatex">\(Y = y\)</span>. Nghĩa là, với mọi phần tử mà <span class="arithmatex">\(Y\)</span> có giá trị giống <span class="arithmatex">\(y\)</span>, ta lấy kỳ vọng có điều kiện đối với biến cố mà <span class="arithmatex">\(Y = y\)</span> và đặt giá trị của đáp án cho kỳ vọng có điều kiện đó.</p>
<p>Tuy nhiên, điều ở trên cũng giống như: cho <span class="arithmatex">\(\mathcal{F}_Y\)</span> là <span class="arithmatex">\(\sigma\)</span>-đại số mà các tập tối thiểu tương ứng với các giá trị khác nhau của <span class="arithmatex">\(Y\)</span>. Khi đó <span class="arithmatex">\(E[X | Y]\)</span> sẽ đồng nhất với biến ngẫu nhiên <span class="arithmatex">\(E[X | \mathcal{F}_Y]\)</span>. Lưu ý rằng <span class="arithmatex">\(\sigma\)</span>-đại số này được gọi là <span class="arithmatex">\(\sigma\)</span>-đại số được tạo ra bởi biến ngẫu nhiên <span class="arithmatex">\(Y\)</span>.</p>
<p>Theo nghĩa này, kỳ vọng có điều kiện đối với một <span class="arithmatex">\(\sigma\)</span>-đại số là một khái niệm rõ ràng và phức tạp hơn kỳ vọng có điều kiện đối với một biến ngẫu nhiên, mặc dù cả hai khái niệm đều tương đương (bạn luôn có thể tạo ra một <span class="arithmatex">\(\sigma\)</span>-đại số bằng cách chọn nơi để đặt các giá trị bằng nhau cho biến ngẫu nhiên mà bạn đang điều chỉnh).</p>
<p>Một cách khác để suy nghĩ về khái niệm này là coi nó như là sự ánh xạ từ một tập hợp các biến cố tối thiểu sang một tập hợp các biến cố tối thiểu thô hơn. Đối với mỗi nhóm biến cố tối thiểu mà ta đang thu gọn, ta thay thế nó bằng một biến cố tối thiểu duy nhất bằng "tâm khối lượng" của các biến cố đó, trong đó "vị trí" là giá trị của biến ngẫu nhiên và "khối lượng" bằng với xác suất của các biến cố tối thiểu đó. Điều này cũng đúng về mặt toán học và chính xác cho setup này.</p>
<p>Để cho đầy đủ, vì định nghĩa trên nắm bắt được kỳ vọng có điều kiện đối với <span class="arithmatex">\(\sigma\)</span>-đại số, nhưng không hoạt động khi cố gắng tổng quát nó cho các không gian mẫu vô hạn, đây là "định nghĩa chính thức" mà mọi người sử dụng (khá là phản trực giác và mất chút thời gian để hiểu rõ):</p>
<p>Một biến cố có điều kiện <span class="arithmatex">\(X\)</span> với <span class="arithmatex">\(\mathcal{H}\)</span> cho trước, ký hiệu là <span class="arithmatex">\(E[X | \mathcal{H}]\)</span>, là bất kỳ biến ngẫu nhiên nào trên <span class="arithmatex">\((\Omega, \mathcal{H}, P)\)</span> thoả mãn <span class="arithmatex">\(\int_H E[X | \mathcal{H}] d\mathbb{P} = \int_H X d\mathbb{P}\)</span> với mọi <span class="arithmatex">\(H \in \mathcal{H}\)</span>.</p>
<p>Về cơ bản, định nghĩa này nói lại y hệt những gì ta đã bàn khi bạn nghĩ về khả năng <span class="arithmatex">\(H\)</span> có thể xảy ra, nhưng theo cách không mang tính xây dựng hơn. Hoá ra biến ngẫu nhiên này không phải là duy nhất theo nghĩa chặt chẽ nhất, nhưng <span class="arithmatex">\(P(Y \ne Z) = 0\)</span> đúng, trong đó <span class="arithmatex">\(Y\)</span> và <span class="arithmatex">\(Z\)</span> là hai biến của biến ngẫu nhiên này. Ngoài ra, định nghĩa này làm rõ rằng <span class="arithmatex">\(X - E[X | \mathcal{H}]\)</span>  trực giao với hàm chỉ báo (vì vậy ta có dịnh nghĩa chính xác hơn về phép chiếu xuống).</p>
<h2 id="martingales">Martingales</h2>
<p>Giả sử ta có một "tiến trình", mà ở mỗi bước, ta có thêm thông tin. Giả sử không gian mẫu của chúng ta cho toàn bộ phép thử là <span class="arithmatex">\(\Omega\)</span>. Ở đây, <span class="arithmatex">\(\Omega\)</span> gần như luôn vô hạn, nhưng với những hiểu biết trước đó, ngay cả khi những khái niệm như tập tối thiểu không dành cho không gian mẫu vô hạn. Ta xét một ví dụ đơn giản, với mỗi bước, ta tung đồng xu. Không gian mẫu của toàn bộ phép thử là tập của tất cả các xâu nhị phân vô hạn. Giờ ta hãy nghĩ về loại thông tin mà ta sẽ có sau nhiều bước của tiến trình. Sau bước <span class="arithmatex">\(0\)</span>, tất cả thông tin ta có (ví dụ, thông tin hoàn chỉnh về một biến ngẫu nhiên mà có thông tin về những thứ đã xảy ra đến thời điểm hiện tại) ứng với <span class="arithmatex">\(\sigma\)</span>-đại số đơn giản <span class="arithmatex">\(\{\emptyset, \Omega\}\)</span>. Sau bước thứ <span class="arithmatex">\(i\)</span>, ta có thông tin về <span class="arithmatex">\(i\)</span> lần tung đầu tiên, nên thông tin ứng với <span class="arithmatex">\(\sigma\)</span>-đại số với các tập "tối thiểu" chính là các tập các xâu nhị phân mà giống nhau trong <span class="arithmatex">\(i\)</span> vị trí đầu tiên.</p>
<p>Để hiểu vì sao các <span class="arithmatex">\(\sigma\)</span>-đại số cần thiết để lấy thông tin, phép loại suy sau có thể có ích. Hãy suy nghĩ về các tập tối thiểu. Mỗi lần ta lấy thêm thông tin, ta có thể phân biệt được các phần tử trong tập tối thiểu. Để có thể thực hiện các thao tác như tìm kỳ vọng của một số biến ngẫu nhiên trong trường hợp này, ta cần phải có khả năng phân biệt các phần tử này. Theo một nghĩa nào đó, bạn đang kiểm tra nhiều vũ trụ song song cùng một lúc, và trong mỗi vũ trụ, bạn có một tiền tố nhất định về những thứ đã xảy ra, đối với mỗi sự việc mà bạn muốn phân tích được những gì sẽ xảy ra tiếp theo.</p>
<p>Lưu ý rằng ta luôn lấy thêm thông tin ở mỗi giai đoạn của một tiến trình ngẫu nhiên như vậy. Nên ta định nghĩa một bộ lọc như sau (mà không có bất kỳ tham chiếu nào đến một tiến trình vì mục đích tổng quát): một dãy các <span class="arithmatex">\(\sigma\)</span>-đại số <span class="arithmatex">\(\mathcal{F}_i\)</span> mà <span class="arithmatex">\(\mathcal{F}_i \subseteq \mathcal{F}_j\)</span> khi và chỉ khi <span class="arithmatex">\(i \le j\)</span></p>
<p>Vậy thì tiến trình là cái gì? Ở mỗi bước của một tiến trình, ta có một biến ngẫu nhiên xuất hiện. Nhưng <span class="arithmatex">\(\sigma\)</span>-đại số của biến ngẫu nhiên đó là gì? Để khắc phục, ta lấy một <span class="arithmatex">\(\sigma\)</span>-đại số <span class="arithmatex">\(\mathcal{F}\)</span> mà nó lấy được toàn bộ thông tin có thể có. Vậy nên ta định nghĩa một tiến trình ngẫu nhiên như sau:</p>
<p>Với một không gian xác suất <span class="arithmatex">\((\Omega, \mathcal{F}, P)\)</span>, một tập đánh dấu <span class="arithmatex">\(I\)</span> với tổng thứ tự <span class="arithmatex">\(\le\)</span>, một tiến trình ngẫu nhiên <span class="arithmatex">\(X\)</span> là bộ các biến ngẫu nhiên <span class="arithmatex">\(\{X(i) | i \in I\}\)</span>.</p>
<p>Với mục đích của chúng ta, <span class="arithmatex">\(I\)</span> sẽ gần như là các số nguyên không âm, mặc dù <span class="arithmatex">\(I = \mathbb{R}\)</span> được dùng rộng rãi trong nhiều tình huống. <span class="arithmatex">\(I\)</span> có tổng thứ tự nghĩa là có một số khái niệm về thời gian liên quan đến <span class="arithmatex">\(I\)</span>.</p>
<p>Giờ làm sao để ta xây dựng được một "bộ lọc tự nhiên" để lấy thông tin mà <span class="arithmatex">\(i\)</span> bước đầu tiên của tiến trình (nghĩa là <span class="arithmatex">\(\{X(j) | j \le i\}\)</span>) cho chúng ta? Nhớ lại làm sao để xây dựng một <span class="arithmatex">\(\sigma\)</span>-đại số từ một biến ngẫu nhiên không? Ta cũng có thể dùng thứ tương tự để xây dựng nó từ một tập hữu hạn các biến ngẫu nhiên, bằng cách tinh chỉnh hai phân hoạch với nhau khi có thể (tương đương với phép nối hai phân hoạch trong mạng tinh chế, nếu bạn quen với tập thứ tự một phần và mạng tinh thể). Vì vậy quá trình lọc có thể được thiết lập theo cách này, bằng cách tinh chỉnh <span class="arithmatex">\(\sigma\)</span>-đại số hiện tại với một biến ngẫu nhiên mới mỗi lần. Ta có diễn giải từ Wikipedia, </p>
<p>Với <span class="arithmatex">\({\displaystyle (X_{n})_{n\in \mathbb {N} }}\)</span> là một tiến trình ngẫu nhiên trên không gian mẫu <span class="arithmatex">\({\displaystyle (\Omega ,{\mathcal {F}},P)}\)</span>. Thì</p>
<div class="arithmatex">\[{\displaystyle {\mathcal {F}}_{n}:=\sigma (X_{k}\mid k\leq n)}\]</div>
<p>là một <span class="arithmatex">\(\sigma\)</span>-đại số và <span class="arithmatex">\({\displaystyle \mathbb {F} =({\mathcal {F}}_{n})_{n\in \mathbb {N} }}\)</span> là một bộ lọc. Ở đây <span class="arithmatex">\({\displaystyle \sigma (X_{k}\mid k\leq n)}\)</span> thể hiện rằng <span class="arithmatex">\(\sigma\)</span>-đại số được sinh ra từ các biến ngẫu nhiên <span class="arithmatex">\({\displaystyle X_{1},X_{2},\dots ,X_{n}}\)</span>. <span class="arithmatex">\({\mathbb F}\)</span> là một bộ lọc, vì với định nghĩa tất cả <span class="arithmatex">\({\displaystyle {\mathcal {F}}_{n}}\)</span> là <span class="arithmatex">\(\sigma\)</span>-đại số và <span class="arithmatex">\({\displaystyle \sigma (X_{k}\mid k\leq n)\subseteq \sigma (X_{k}\mid k\leq n+1)}\)</span>.</p>
<p>Thứ này được biến đến như bộ lọc tự nhiên của <span class="arithmatex">\({\displaystyle {\mathcal {F}}}\)</span> đối với <span class="arithmatex">\(X\)</span>.</p>
<p>Cuối cùng, ta cũng có thể định nghĩa martingale. Lưu ý rằng nếu <span class="arithmatex">\(\sigma(X_i) \subseteq \mathcal{H}\)</span> với một số <span class="arithmatex">\(\sigma\)</span>-đại số <span class="arithmatex">\(\mathcal{H}\)</span>, thì <span class="arithmatex">\(E[X_i | \mathcal{H}] = X_i\)</span> (nhớ lại tập tối thiểu và định nghĩa). Một martingale nói rằng tính điều kiện dựa trên thông tin chúng ta có đến thời điểm <span class="arithmatex">\(i\)</span>, một biến ngẫu nhiên <span class="arithmatex">\(X_j\)</span> với <span class="arithmatex">\(j \ge i\)</span> trông giống như <span class="arithmatex">\(X_i\)</span>. Nói cách khác,</p>
<p>Một <strong>martingale</strong> là một tiến trình ngẫu nhiên <span class="arithmatex">\(X_1, X_2, \ldots\)</span> mà <span class="arithmatex">\(E[X_{n + 1} | \sigma(X_1, X_2, \dots, X_n)] = X_n\)</span></p>
<p>Điều kiện đầu tiên có thể được viết thành <span class="arithmatex">\(E[X_{n + 1} - X_n | \sigma(X_1, X_2, \dots, X_n)] = 0\)</span>. Lưu ý rằng ta đang bàn về sự bằng nhau "gần như chắc chắn" của các biến ngẫu nhiên khi xử lý các không gian xác suất phức tạp hơn, nhưng vì mục tiêu, ta sẽ không quan tâm đến chi tiết này.</p>
<p>Lưu ý rằng đây là điều kiện cần và đủ, bởi <span class="arithmatex">\(X_j - X_i = (X_j - X_{j - 1}) + (X_{j - 1} - X_{j - 2}) + \dots + (X_{i+1} - X_i)\)</span>, và thêm vào tính chất lồng nhau thô, nó gia giảm thành <span class="arithmatex">\(E[X_j - X_i | \sigma(X_1, \dots, X_i)] = 0\)</span>.</p>
<p>Tại sao martingale hữu ích? Đầu tiên, nó cho chúng ta một bất biến, và như ta đã biết, các bất biến làm mọi thứ dễ dàng hơn khi chứng minh các kết quả trong toán học. Thứ hai, nó bắt nguồn từ lý thuyết cờ bạc và đối với các trò cờ bạc công bằng, giá trị lợi nhuận kì vọng tại thời điểm sau phải bằng với lợi nhuận tại thời điểm đó, đó chính là điều kiện của martingale!</p>
<p>Một số cách xây dựng martingale như sau:</p>
<ol>
<li>Xét việc đi bộ ngẫu nhiên, với vị trí đầu là <span class="arithmatex">\(X_0 = 0\)</span>, và <span class="arithmatex">\(X_i = X_{i-1} \pm 1\)</span>, với xác suất bằng nhau <span class="arithmatex">\(p \le 1/2\)</span>, và <span class="arithmatex">\(X_i = X_{i-1}\)</span> với xác suất <span class="arithmatex">\(1-2p\)</span>. Thì đây là một martingale (theo định nghĩa).</li>
<li>Xét việc đi bộ ngẫu nhiên biểu thị tổng tài sản của một bet thủ, anh ta luôn tái đầu tư vốn của mình vào trò chơi. Trò này trả <span class="arithmatex">\(r\)</span> phần trăm nếu anh ta thắng (xác suất là <span class="arithmatex">\(p\)</span>), mất <span class="arithmatex">\(r\)</span> phần trăm nếu anh ta thua (xác suất là <span class="arithmatex">\(p\)</span>), và tài sản giữ nguyên nếu hoà (xác suất <span class="arithmatex">\(1-2p\)</span>). Thì tài sản của anh ta là một martingale.</li>
</ol>
<p>Giờ ta xét kì vọng có điều kiện trong định nghĩa của martingale khi ta áp dụng hàm lồi cho một tiến trình ngẫu nhiên (nghĩa là cho tất cả các biến ngẫu nhiên trong tiến trình ngẫu nhiên). Vì các xác suất đều dương, nên bất cứ khi nào chúng ta lấy kì vọng có điều kiên, ta sẽ lấy một tổ hợp lồi các giá trị của hàm lồi của một biến ngẫu nhiên. Theo bất đẳng thức Jensen, ta nhận được điều đó thay vì đẳng thức, <span class="arithmatex">\(\ge\)</span> đúng trong phương trình định nghĩa cho martingale. Tương tự, nếu ta có một hàm lõm, <span class="arithmatex">\(\le\)</span> đúng trong phương trình định nghĩa cho martingale. Các loại tiến trình này (trong đó <span class="arithmatex">\(\ge\)</span> và <span class="arithmatex">\(\le\)</span> được giữ thay vì <span class="arithmatex">\(=\)</span>) được gọi lần lượt là sub-martingale và super-martingale. Lưu ý rằng không phải tất cả tiến trình ngẫu nhiên đều phải là sub hoặc super-martingale. Thêm nữa là <span class="arithmatex">\(\ge 0\)</span> và <span class="arithmatex">\(\le 0\)</span> nghĩa là biến ngẫu nhiên trên LHS (Latin hypercube sampling) lần lượt gần như chắc chắn không âm và không dương.</p>
<p>Một ví dụ về sub-martingale:</p>
<details class="tip">
<summary>Ví dụ</summary>
<p>Giả sử ta có martingale <span class="arithmatex">\(X\)</span>. Ta nói <span class="arithmatex">\(X^2\)</span> là một sub-martingale. Theo bất đẳng thức Jensen, <span class="arithmatex">\(\sum_{i = 1}^N \lambda_i f(x_i) \ge f \left(\sum_{i = 1}^{N} \lambda_i x_i\right)\)</span>, với <span class="arithmatex">\(f\)</span> lồi và <span class="arithmatex">\(\lambda_i\)</span> không âm có tổng bằng <span class="arithmatex">\(1\)</span>. Áp dụng điều này khi làm thô các tập tối thiểu của <span class="arithmatex">\(\sigma\)</span>-đại số mịn hơn (khi lấy kì vọng có điều kiện) cho ta <span class="arithmatex">\(E[X_{N + 1}^2 \mid \sigma(X_{i}^2)_{i = 0}^{N}] \ge X_N^2\)</span>, chứng minh được <span class="arithmatex">\(X^2\)</span> là sub-martingale. Trong thực tế, trong trường hợp <span class="arithmatex">\(X_n\)</span> là độ may mắn của người cá cược khi lợi nhuận và thua lỗ (có độ lớn bằng nhau) có khả năng xảy ra như nhau, <span class="arithmatex">\(X_n^2 - n\)</span> là một martingale. Lưu ý rằng trong định nghĩa tổng quát nhất của martingale, bạn có thể dùng bộ lọc trước đó (<span class="arithmatex">\(\sigma(X_i)\)</span>). Để làm được điều đó, tất cả những thứ cần thiết là để tiến trình thích ứng với bộ lọc, nhưng vì ta đã định nghĩa martingale trên bộ lọc tự nhiên, ta đã tiếp tục với một bộ lọc rõ ràng hơn.</p>
</details>
<p>Ta sẽ không đi quá sâu vào martingale (vì nó xứng đáng có một ngành nghiên cứu riêng), nhưng ta sẽ xem một vài tính chất hay ho:</p>
<ol>
<li><strong>Bất đẳng thức Azuma</strong>: Nó cho ta một giới hạn về mức độ "đóng" của ta với giá trị ban đầu của biến ngẫu nhiên, với các giới hạn chuyển động của martingale (hoặc ta đã đi sai hướng bao xa bới một sub / super-martingale). Gọi <span class="arithmatex">\(\{X_k\}\)</span> là một super-martingale (cũng là martingale), và giả sử <span class="arithmatex">\(|X_k - X_{k - 1}| \le c_k\)</span> là gần như chắc chắn. Thì ta có <span class="arithmatex">\(P(X_N - X_0 \ge \varepsilon) \le \exp(-\varepsilon^2/(2 \sum_{k = 1}^N c_k^2))\)</span>. Vì âm của super-martingale là sub-martingale, với sub-martingale <span class="arithmatex">\(X\)</span>, ta sẽ có <span class="arithmatex">\(P(X_N - X_0 \le -\varepsilon) \le \exp(-\varepsilon^2/(2 \sum_{k = 1}^N c_k^2))\)</span>.Vì martingale vừa là sub-martingale, vừa là super-martingale, ta có một giới hạn xác suất về độ gần của <span class="arithmatex">\(X_N\)</span> với <span class="arithmatex">\(X_0\)</span>, nghĩa là <span class="arithmatex">\(P(|X_N - X_0| \ge \varepsilon) \le 2 \exp(-\varepsilon^2/(2 \sum_{k = 1}^N c_k^2))\)</span>. Có một phiên bản mạnh hơn của bất đẳng thức này nhưng như trên đã là đủ để thấy được martingale tốt như thế nào. </li>
<li><strong>Bất đẳng thức martingale Doob</strong>: Đây là bất đẳng thức kiểu Markov trên xác suất mà một sub-martingale sẽ vượt quá <span class="arithmatex">\(x\)</span>. Nói cách khác, với một sub-martingale <span class="arithmatex">\(X\)</span>, ta có <span class="arithmatex">\(P(\max_{1 \le i \le n} X_i \ge x) \le E[\max(X_n, 0)] / x\)</span>. Điều này cũng được dùng để cho thấy bất đẳng thức Markov</li>
<li><strong>Định lý hội tụ martingale Doob</strong>: Đây là hệ quả cho rằng super-martingale bị chặn dưới sẽ hội tụ (gần như chắc chắn) thành một biến ngẫu nhiên với kỳ vọng hữu hạn. Lưu ý rằng nếu ta chặn trường hợp khi biến số phân kỳ đến vô hạn theo nghĩa nào đó, thì cách khả dĩ khác để nó không hội tụ là dao động. Bất đẳng thức này đại khái nói rằng các martingale có giới hạn thì không dao động.</li>
</ol>
<h2 id="thoi-gian-dung-stopping-times">Thời gian dừng (Stopping times)</h2>
<p>Thời gian dừng khá là thú vị trong toán học, và khi kết hợp với martingale, chúng sẽ cho ra nhiều kết quả thú vị không kém và là một công cụ rất mạnh mẽ.</p>
<p>Giả sử ta đang trong hoàn cảnh của người chơi bạc, và ta muốn viết một thuật toán để kết thúc trò chơi, tuỳ vào một số kết quả nhất định trong tiến trình này. Thời gian dừng là một cách để chính thức hoá phân tích khi đạt đến các điều kiện thoát như vậy. Điều tốt nhất mà ta có thể làm, dựa trên lý thuyết hiện tại mà ta có, là định nghĩa nó như một biến ngẫu nhiên (có thể phụ thuộc hoặc không phụ thuộc vào tiến trình ngẫu nhiên). Ta cũng có hạn chế là không thể thấy trước tương lai, vì vậy quyết định về thời điểm dừng phải được đưa ra với tất cả các thông tin ở thời điểm hiện tại.</p>
<p>Xét một biến ngẫu nhiên <span class="arithmatex">\(\tau\)</span> (lấy giá trị trong tập đánh dấu, là tập chứa các số nguyên không âm) trên không gian xác suất <span class="arithmatex">\((\Omega, \mathcal{F}, P)\)</span>, và giả sử ta có một tiến trình ngẫu nhiên <span class="arithmatex">\(X\)</span> trên cùng không gian xác suất với bộ lọc liên quan <span class="arithmatex">\(\{\mathcal{F}_i\}\)</span>. Ta gọi <span class="arithmatex">\(\tau\)</span> là <strong>thời gian dừng</strong> nếu biến cố <span class="arithmatex">\(\{\tau = t\}\)</span> là một biến cố trong <span class="arithmatex">\(\{\mathcal{F}_t\}\)</span>. Nghĩa là, quyết định dừng ở thời điểm <span class="arithmatex">\(t\)</span> phải được đưa với thông tin không nhiều hơn thông tin ta có ở thời điểm <span class="arithmatex">\(t\)</span>. Để giữ tính nhất quán với việc đánh dấu số thực, ta thay đổi điều kiện thành <span class="arithmatex">\(\{\tau \le t\}\)</span> là một biến cố trong <span class="arithmatex">\(\{\mathcal{F}_t\}\)</span>.</p>
<p>Để hiểu tại sao điều này đảm bảo việc không hướng tới tương lai, ta xét như sau. Nhóm các phần tử của <span class="arithmatex">\(\Omega\)</span> có thời gian dừng <span class="arithmatex">\(\le t\)</span> lại với nhau, với điều kiện là ta không thể phân biệt chúng nếu không có thông tin ở thời gian sau <span class="arithmatex">\(t\)</span>. Tương tự, không thể xảy ra trường hợp hai phần tử của <span class="arithmatex">\(\Omega\)</span> trong cùng một tập tối thiểu của <span class="arithmatex">\(\mathcal{F}_t\)</span> có thời gian dừng khác nhau, khi không phải cả hai đều <span class="arithmatex">\(&gt; t\)</span>. Trong ví dụ tung đồng xu của chúng ta, điều sau sẽ hợp lý nếu bạn nghĩ về lý do vì sao bạn không có thời gian dừng cho 000010110... = 4 và cho 000011000... = 6.</p>
<p>Một cách khác để chính thức hoá điều tương tự là nói rằng tiến trình ngẫu nhiên (biểu thị việc dừng một tiến trình) được xác định bởi <span class="arithmatex">\(Y_t = 0\)</span> nếu <span class="arithmatex">\(\tau &lt; t\)</span> và <span class="arithmatex">\(1\)</span>, nếu không thì là một tiến trình thích ứng đối với bộ lọc, nghĩa là <span class="arithmatex">\(\sigma(Y_t) \subseteq \mathcal{F}_t\)</span> với mọi <span class="arithmatex">\(t\)</span>.</p>
<p>Vì thời gian dừng là một chỉ số, nên ta có thể nghĩ cách đánh dấu tiến trình ngẫu nhiên với một số hàm của thời gian dừng. Nếu ta quay về định nghĩa biến ngẫu nhiên, rõ ràng là ta cần gán một giá trị cho nó ở mọi phần tử trong <span class="arithmatex">\(\Omega\)</span>. Trong các trường hợp đơn giản, điều này không quan trọng, vì ta có thể tính giá trị của <span class="arithmatex">\(\tau\)</span> ở tập tối thiểu có phần tử này (cho giá trị này là <span class="arithmatex">\(t\)</span>), và tính lại giá trị <span class="arithmatex">\(X_t\)</span> ở tập tối thiểu. Từ đây, rõ ràng <span class="arithmatex">\(X_{\tau}\)</span> là một biến ngẫu nhiên trên không gian xác suất gốc, và nó thể hiện giá trị của một tiến trình ngẫu nhiên khi kết thúc tiến trình. Cũng lưu ý rằng với lý do trên, <span class="arithmatex">\(X_{\min(\tau, t)}\)</span> là một biến ngẫu nhiên có <span class="arithmatex">\(\sigma\)</span>-đại số là tập con của <span class="arithmatex">\(\mathcal{F}_t\)</span>. <span class="arithmatex">\(X_{\min(\tau, t)}\)</span> ứng với một tiến trình <strong>đã dừng</strong>. nghĩa là ta đã dừng một tiến tình sau khi quá thời gian cho phép. Đây là những loại tiến trình rất quan trọng và đã được nghiên cứu rộng rãi.</p>
<p>Cái hay của martingale và thời gian dừng là chúng đường nghiên cứu rất nhiều, và có một số kết quả quan trọng mà mình sẽ ghi ra ở đây (không chứng minh), chúng có thể giúp ta giải rất nhiều bài toán cũng như xây dựng một hiểu biết xung quang martingale và thời gian dừng:</p>
<ol>
<li><strong>Định lý giới hạn trung tâm martingale</strong>: Đây là sự tổng quát hoá của định lý giới hạn trung tâm thông thường đối với martingale. Tiến trình liên quan là một martingale bình thường, nhưng với sự khác biệt giữa các giá trị liên tiếp được giới hạn bởi một giới hạn gần như chắc chắn cố định. Ta chọn thời điểm dừng như sau: tại mỗi bước <span class="arithmatex">\(i + 1\)</span>, ta tính phương sai có điều kiện của <span class="arithmatex">\(X_{i + 1}\)</span> đối với <span class="arithmatex">\(\mathcal{F}_i\)</span>, và tiếp tục thêm nó vào bộ đếm. Dừng khi bộ đếm lớn hơn một giá trị nhất định <span class="arithmatex">\(\sigma^2\)</span> (theo nghĩa nào đó, ta đang đợi cho đến khi lấy được phương sai đủ lớn). Nếu thời gian dừng là <span class="arithmatex">\(\tau_\sigma\)</span>, thì biến ngẫu nhiên <span class="arithmatex">\(X_{\tau_\sigma} / \sigma\)</span> hội tụ tại một biến phân phối chuẩn với trung bình là <span class="arithmatex">\(0\)</span> và phương sai <span class="arithmatex">\(1\)</span>, vì <span class="arithmatex">\(\sigma\)</span> có xu hướng đến <span class="arithmatex">\(\inf\)</span>. Điều này cũng giả định rằng tổng phương sai phân kỳ.</li>
<li><strong>Định lý dừng tuỳ chọn Doob</strong>: Đây là một định lý rất quan trọng, và rất hữu ích cho việc tính toán giá trị kì vọng của thời gian dừng. Nó nói về sự công bằng của martingale khi ta dừng sau một thời gian dừng ngẫu nhiên, theo nghĩa ta đã phát triển ở trên. Ta sẽ có <span class="arithmatex">\(E[X_\tau] = E[X_0]\)</span>, và hoá ra điều này đúng nếu một trong ba điều kiện sau thoả mãn:<ul>
<li>Thời gian dừng <span class="arithmatex">\(\tau\)</span> bị chặn trên.</li>
<li>Martingale bị chặn và thời gian dừng <span class="arithmatex">\(\tau\)</span> gần như chắc chắn hữu hạn (<span class="arithmatex">\(P(\tau = \infty) = 0\)</span>).</li>
<li>Giá trị kì vọng của <span class="arithmatex">\(\tau\)</span> hữu hạn, và hiệu <span class="arithmatex">\(X_{i+1}\)</span> và <span class="arithmatex">\(X_i\)</span> bị chặn. Lưu ý rằng điều này có thể được dùng để tính thời gian dừng nếu ta thay đổi martingale một chút, ta sẽ thấy sau.</li>
</ul>
</li>
</ol>
<h2 id="mot-so-bai-tap-toan">Một số bài tập toán</h2>
<p>Ta bắt đầu với một số bài toán mà tôi đã gặp trong những năm qua (xin lỗi vì không nhớ nguồn của một số bài).</p>
<h3 id="bai-1">Bài 1</h3>
<p>Cho một bet thủ có <span class="arithmatex">\(n\)</span> dollar và cá cược vô số lần. Phần thưởng vòng <span class="arithmatex">\(i\)</span> là <span class="arithmatex">\(X_t\)</span>, với <span class="arithmatex">\(X_t\)</span> là một số nguyên bị chặn hai đầu bởi một số hằng số xác định. Ta biết <span class="arithmatex">\(E[X_t|X_{t-1},\cdots,X_1]\geq c\)</span> với <span class="arithmatex">\(c &gt; 0\)</span>. Giả sử xác suất bet thủ này hết tiền là <span class="arithmatex">\(p(n)\)</span>. Có khi nào <span class="arithmatex">\(\lim_{n\rightarrow \infty}p(n)=0\)</span> không?</p>
<details class="tip">
<summary>Lời giải sơ bộ</summary>
<p>Dùng bất đẳng thức Azuma bằng cách xây dựng sub-martingale bằng với tài sản ở thời gian <span class="arithmatex">\(t\)</span> trừ đi <span class="arithmatex">\(ct\)</span>.</p>
</details>
<h3 id="bai-2">Bài 2</h3>
<p>Cho một bảng vô hạn, với một số thực không âm ở mỗi ô. Giả sử rằng với mỗi ô, số trong đó là trung bình của 4 ô liền kề. Chứng minh tất cả các số bằng nhau.</p>
<details class="tip">
<summary>Lời giải sơ bộ</summary>
<p>Xây dựng một martingale, với tiến trình bên dưới là việc đi bộ ngẫu nhiên với biến ngẫu nhiên là số trên ô đang đứng. Giờ dùng định lý hội tụ martingale, và bạn có thể phải dùng thêm luật không-một Hewitt-Savage dựa trên cách bạn dùng hội tụ.</p>
</details>
<h3 id="bai-3-usa-imo-2018-winter-tst-1-p2">Bài 3 (USA IMO 2018 Winter TST 1, P2)</h3>
<p>Tìm tất cả các hàm <span class="arithmatex">\(f\colon \mathbb{Z}^2 \to [0, 1]\)</span> mà với bất kỳ số nguyên <span class="arithmatex">\(x\)</span>, <span class="arithmatex">\(y\)</span> nào,</p>
<div class="arithmatex">\[f(x, y) = \frac{f(x - 1, y) + f(x, y - 1)}{2}\]</div>
<details class="tip">
<summary>Lời giải sơ bộ</summary>
<p>Xây dựng một martingale tương tự bài trước.</p>
</details>
<h3 id="bai-4-2022-putnam-a4">Bài 4 (2022 Putnam A4)</h3>
<p>Giả sử <span class="arithmatex">\(X_1, X_2, \ldots\)</span> là các số thực trong khoảng <span class="arithmatex">\([0, 1]\)</span> được chọn độc lập và ngẫu nhiên. Cho <span class="arithmatex">\(S=\sum_{i=1}^kX_i/2^i\)</span>, với <span class="arithmatex">\(k\)</span> là số nguyên dương nhỏ nhất mà <span class="arithmatex">\(X_k &lt; X_{k+1}\)</span>, hoặc <span class="arithmatex">\(k = \inf\)</span> nếu không có số nguyên nào như vậy. Tìm giá trị kì vọng của <span class="arithmatex">\(S\)</span>.</p>
<details class="tip">
<summary>Lời giải sơ bộ</summary>
<p>Biến tổng từng phần <span class="arithmatex">\(S_n\)</span> thành một martingale. Cách dễ nhất là trừ đi kì vọng của nó, sau đó kiểm tra xem nó có thực sự trở thành một martingale hay không. Giờ xác định thời gian dừng có liên quan một cách tự nhiên bằng cách sử dụng thuật toán được xác định trong bài tập, và áp dụng định lý dừng tuỳ chọn của Doob.</p>
</details>
<h3 id="bai-5-agmc-2021-p1">Bài 5 (AGMC 2021 P1)</h3>
<p>Trong một bữa tiệc nhảy, ban đầu hồ bơi gồm 20 nữ mà 22 nam, và có nhiều nam nữ nữa đang chờ ở ngoài. Ở mỗi vòng, một người trong hồ bơi được chọn ngẫu nhiên. Nếu bạn nữ được chọn, bạn đó sẽ mời một bạn nam trong hồ để nhảy cùng và cả hai rời khỏi buổi tiệc sau khi nhảy xong. Nếu bạn nam được chọn, bạn đó sẽ mời một bạn nữ và một bạn nam đợi ở ngoài để nhảy cùng, sau đó cả 3 bạn ở lại buổi tiệc. Buổi tiệc kết thúc khi chỉ còn (hai bạn) nam trong hồ bơi.</p>
<p>(a) Xác suất để buổi tiệc không bao giờ kết thúc là bao nhiêu?</p>
<p>(b) Người quản lý tiệc quyết định đảo ngược luật, nghĩa là nếu bạn nữ được chọn, bạn đó sẽ mời một bạn nữ và một bạn nam đợi ở ngoài để nhảy cùng, sau đó cả 3 bạn ở lại buổi tiệc. Nếu bạn nam được chọn, bạn đó sẽ mời một bạn nữ trong hồ để nhảy cùng và cả hai rời khỏi buổi tiệc sau khi nhảy xong. Buổi tiệc kết thúc khi chỉ còn (hai bạn) nam trong hồ bơi. Giá trị kì vọng của số vòng mà buổi tiệc có thể có là bao nhiêu?</p>
<details class="tip">
<summary>Lời giải sơ bộ</summary>
<p>Dùng phép lặp lại để giải (a). Với (b), lưu ý rằng sự lặp lại thay đổi một chút. Gọi <span class="arithmatex">\(X_n\)</span> là tổng số người trong nhóm. Có một <span class="arithmatex">\(c\)</span> sao cho <span class="arithmatex">\(X_n^2 + cn\)</span> là một martingale không? Giờ áp dụng Định lý dừng tuỳ chọn Doob và xem điều gì xảy ra.</p>
</details>
<h3 id="bai-6">Bài 6</h3>
<p>Cho một con khỉ đánh phím ngẫu nhiên trên một cái bàn phím có bảng chữ cái là <span class="arithmatex">\(\Sigma\)</span>. Với một xâu <span class="arithmatex">\(w\in\Sigma^*\)</span>, gọi <span class="arithmatex">\(w_1,\dots,w_n\)</span> là các xâu không rỗng đồng thời là tiền tố và hậu tố của <span class="arithmatex">\(w\)</span>. Chứng minh kì vọng số lần bấm phím của con khỉ cần làm là <span class="arithmatex">\(\sum_{i=1}^n|\Sigma|^{|w_i|}\)</span>.</p>
<details class="tip">
<summary>Lời giải sơ bộ</summary>
<p>Có hai cách tạo martingale ở đây. Nhìn vào hậu tố của kích thước <span class="arithmatex">\(\min(\text{number of steps}, |w|)\)</span>. Ta tạo một biến ngẫu nhiên như sau: với mọi hậu tố hiện tại <span class="arithmatex">\(s_i\)</span> mà cũng là tiền tố của <span class="arithmatex">\(w\)</span>, biến ngẫu nhiên bằng với <span class="arithmatex">\(\sum_{s_i} |\Sigma|^{|s_i|}\)</span>. Hãy xem điều gì xảy ra khi ta thêm kí tự mới vào, đó có phải là martingale không? Ta có thể làm gì để tạo một cái không? Giờ dùng định lý dừng tuỳ chọn Doob xem.</p>
<p>Một cách tự nhiên hơn là thông qua cách nhìn cá cược. Giả sử ở mỗi thời điểm <span class="arithmatex">\(t\)</span>, một bet thủ mới đến và trả <span class="arithmatex">\(1\)</span> để chơi. Anh ta tái đầu tư lần cược (<span class="arithmatex">\(|\Sigma|\)</span> lần so với lần cược trước) nếu chữ cái tiếp theo là một phần của tiền tố khi anh ta bắt đầu chơi. Nếu anh ta thua, anh ta nghỉ và không làm gì. Giờ thì nó là martingale, và tổng tiền mà tất cả bet thủ trả cho nhà cái là giá trị kì vọng của thời gian dừng.</p>
</details>
<p>Một cách giải khác cho bài này là ở <a href="https://codeforces.com/blog/entry/98808">đây</a></p>
<h3 id="bai-7-alon-spencer">Bài 7 (Alon, Spencer)</h3>
<p>Cho đồ thị <span class="arithmatex">\(G=(V,E)\)</span> với số màu <span class="arithmatex">\(\chi(G)=1000\)</span>. Gọi <span class="arithmatex">\(U \subseteq V\)</span> là tập con ngẫu nhiên của <span class="arithmatex">\(V\)</span> được chọn từ tất cả <span class="arithmatex">\(2^{|V|}\)</span> tập con của <span class="arithmatex">\(V\)</span>. Gọi <span class="arithmatex">\(H=G[U]\)</span> là đồ thị con suy biến của <span class="arithmatex">\(G\)</span> trên <span class="arithmatex">\(U\)</span>. Chứng minh rằng xác suất <span class="arithmatex">\(H\)</span> có một số màu <span class="arithmatex">\(\le 400\)</span> nhỏ hơn <span class="arithmatex">\(0.01\)</span>.</p>
<details class="tip">
<summary>Lời giải sơ bộ</summary>
<p>Gọi <span class="arithmatex">\(J\)</span> là đồ thị con suy biến trên <span class="arithmatex">\(V \ U\)</span>. Thì rõ ràng <span class="arithmatex">\(\chi(H) + \chi(J) \ge 1000\)</span>, ngược lại ta có thể có việc tô màu tốt hơn của <span class="arithmatex">\(G\)</span> so với việc tô màu tối ưu. Lưu ý là việc chọn <span class="arithmatex">\(U\)</span> và <span class="arithmatex">\(V \ U\)</span> là gần như bằng nhau, nên giá trị kì vọng của <span class="arithmatex">\(\chi(H)\)</span> là ít nhất <span class="arithmatex">\(500\)</span>. Giờ ta thử dùng bất đằng thức Azuma ở đây. Nhưng làm sao tạo một martingale đây?</p>
<p>Nhớ lại là nếu ta bắt đầu với một biến ngẫu nhiên trên một không gian xác suất <span class="arithmatex">\((\Omega, \mathcal{F}, P)\)</span> với bộ lọc <span class="arithmatex">\(\mathcal{F}_i\)</span> với mọi thứ là tập con của <span class="arithmatex">\(\mathcal{F}\)</span>, <span class="arithmatex">\(E[X | \mathcal{F}_i]\)</span> là một martingale. Tận dụng thực tế là ta đã được cung cấp lại số màu của đồ thị. Xét việc tô màu đồ thị và phân chia nó thành các tập <span class="arithmatex">\(P_i\)</span> được phân định bởi các màu của các đỉnh. Giờ hãy xem xét quả trình lọc mà sẽ cho thấy <span class="arithmatex">\(U \cap P_i\)</span> lần lượt (các tập này độc lập). Lưu ý rằng sự thay đổi số màu sẽ nhiều nhất chỉ là <span class="arithmatex">\(1\)</span>. Nên theo bất đẳng thức Azuma, <span class="arithmatex">\(P(\chi(H) \le 400) &lt; P(\chi(H) - e \le -100) \le \exp(-100^2/(2 \cdot 1000))\)</span>, với <span class="arithmatex">\(e\)</span> là kì vọng số màu của <span class="arithmatex">\(H\)</span>.</p>
</details>
<h2 id="luyen-tap">Luyện tập</h2>
<p>Gần như tất cả các bài tập CP trong phần này mà tôi biết được đề cập trong <a href="https://www.cnblogs.com/TinyWong/p/12887591.html">blog này</a> và <a href="https://codeforces.com/blog/entry/87598">solution của bài 1479E giải thích ý chính hơi khác một tí</a>. Mình sẽ không lặp lại những điều đó (các phương trình sẽ dễ hiểu nếu bạn hiểu được cách tiếp cận toán học với các bài tập toán ở trên), nhưng mình vẫn ghi các bài mà họ chỉ ra ở đây cũng như các bài xuất hiện sau đó (theo thứ tự ngược thời gian).</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Problem</th>
<th style="text-align: center;">Status</th>
<th style="text-align: center;">Submission</th>
<th style="text-align: center;">Code</th>
<th style="text-align: center;">Date</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><a href="https://codeforces.com/contest/1575/problem/F">1575F - Finding Expected Value</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><a href="https://codeforces.com/contest/1479/problem/E">1479E - School Clubs</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><a href="https://codeforces.com/contest/1392/problem/H">1392H - ZS Shuffles Cards</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><a href="https://codeforces.com/contest/1349/problem/D">1349D - Slime and Biscuits</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><a href="https://codeforces.com/contest/1025/problem/G">1025G - Company Acquisitions</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><a href="https://codeforces.com/contest/850/problem/F">850F - Rainbow Balls</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><a href="http://www.usaco.org/index.php?page=viewproblem2&amp;cpid=864">USACO 2018 — Balance Beam</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-custom">06/09/2023 (GMT+07)</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-custom">06/09/2023 (GMT+07)</span>
      
    
  </small>
</div>


  







  <h2 id="__comments">Comments</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
    data-repo="farmerboy95/CPBlogs"
    data-repo-id="R_kgDOIA7h_g"
    data-category="General"
    data-category-id="DIC_kwDOIA7h_s4CVvKI"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="preferred_color_scheme"
    data-lang="en"
    crossorigin="anonymous"
    async>
  </script>
  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                

  
    <div class="md-source-date">
      <small>
          Authors: <span class='git-page-authors git-authors'><a href='mailto:jerry.stone.manutd@gmail.com'>farmerboy95</a></span>
      </small>
    </div>
  

              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 farmerboy
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/farmerboy95" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.top"], "search": "../../../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
    
      <script src="../../../../assets/javascripts/bundle.726fbb30.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
    <script>
    var elements = document.getElementsByClassName("lightgallery");
    for(var i=0; i<elements.length; i++) {
       lightGallery(elements[i]);
    }
    </script>
    
    <script
      data-name="BMC-Widget"
      data-cfasync="false" 
      src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" 
      data-id="farmerboy" 
      data-description="Support me on Buy me a coffee!" 
      data-message="" 
      data-color="#5F7FFF" 
      data-position="Right" 
      data-x_margin="18" 
      data-y_margin="18"
    ></script>

  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>